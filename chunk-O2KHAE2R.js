import{a as K,b as Q,e as X,h as Y}from"./chunk-TCCC26L2.js";import{S as q,T as z,Y as U,a as V,b as _,c as G,d as N,e as v,f as b,g as R,h as H,i as J,j as L,k as W,x as $}from"./chunk-MGW7QAEH.js";import{$a as y,Bc as k,Ja as x,La as m,O as E,U as u,V as S,Va as r,Wa as i,Xa as l,Yb as M,_c as I,aa as g,ba as h,bb as c,db as f,fc as A,mb as p,nb as w,od as O,qb as T,rb as P,sb as F,va as d,xc as j}from"./chunk-W5AWQ2AG.js";import"./chunk-GAL4ENT6.js";var B=class{constructor(){this.board=[];let e=localStorage.getItem("kanbanBoard");e?this.board=JSON.parse(e):this.board=[{id:1,name:"To Do",items:[{id:1,title:"Task 1",description:"Description 1"},{id:2,title:"Task 2",description:"Description 2"}]},{id:2,name:"In Progress",items:[{id:3,title:"Task 3",description:"Description 3"}]},{id:3,name:"Done",items:[{id:4,title:"Task 4",description:"Description 4"}]}]}saveBoard(){localStorage.setItem("kanbanBoard",JSON.stringify(this.board))}};var ee=(()=>{let e=class e{constructor(){this.isAddBoard=!1,this.formGroup=new v({name:new b("",_.required)})}closeDialog(){this.formGroup.reset(),this.isAddBoard=!1}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u({type:e,selectors:[["project-board-add"]],decls:12,vars:7,consts:[[3,"visibleChange","visible","icon","label","showHeader","showClose"],[1,"p-text-secondary","block","mb-5"],[3,"formGroup"],[1,"flex","align-items-center","gap-3","mb-3"],["for","broad",1,"font-semibold","w-6rem"],["pInputText","","id","broad","autocomplete","off","formControlName","name",1,"flex-auto","p-inputtext-sm"],[1,"flex","justify-content-end","gap-2"],["label","Cancel","severity","secondary","size","small",3,"onClick","text"],["icon","pi pi-save","label","Create","size","small"]],template:function(t,a){t&1&&(r(0,"phantom-dialog",0),F("visibleChange",function(C){return P(a.isAddBoard,C)||(a.isAddBoard=C),C}),r(1,"span",1),p(2," Add a new board to your project "),i(),r(3,"div",2)(4,"div",3)(5,"label",4),p(6,"Board Name"),i(),l(7,"input",5),i()(),r(8,"p-footer")(9,"div",6)(10,"p-button",7),c("onClick",function(){return a.isAddBoard=!1}),i(),l(11,"p-button",8),i()()()),t&2&&(T("visible",a.isAddBoard),m("icon","pi pi-user-plus")("label","BUTTON_LABEL_ADD_MEMBER")("showHeader",!1)("showClose",!1),d(3),m("formGroup",a.formGroup),d(7),m("text",!0))},dependencies:[O,I,W,V,G,N,R,H,K]});let o=e;return o})();function re(o,e){if(o&1){let s=y();r(0,"div",7),c("onDragEnd",function(){g(s);let t=f(2);return h(t.onDragEnd())})("onDragStart",function(){let t=g(s).$implicit,a=f().$implicit,D=f();return h(D.onDragStart(a,t))}),r(1,"div",8),p(2),i(),r(3,"div",9),p(4),i()()}if(o&2){let s=e.$implicit;d(2),w(s.title),d(2),w(s.description)}}function ie(o,e){if(o&1){let s=y();r(0,"div",4)(1,"p-panel",5),c("onDrop",function(){let t=g(s).$implicit,a=f();return h(a.onDropItem(t))}),x(2,re,5,2,"div",6),i()()}if(o&2){let s=e.$implicit;d(),m("header",s.name),d(),m("ngForOf",s.items)}}var te=(()=>{let e=class e{constructor(){this.isOnAddBoard=!1,this.mockBoard=new B,this.listBoard=this.mockBoard.board,this.formGroup=new v({name:new b("",_.required)})}resetValues(){this.draggedItem=void 0,this.sourceBoard=void 0}onDragStart(n,t){this.sourceBoard=n,this.draggedItem=t}onDragEnd(){this.resetValues()}onDropItem(n){if(this.draggedItem&&this.sourceBoard){let t=this.sourceBoard.items.indexOf(this.draggedItem);t!==-1&&this.sourceBoard.items.splice(t,1),n.items.push(this.draggedItem),this.resetValues(),this.mockBoard.saveBoard()}}closeDialog(){this.formGroup.reset(),this.isOnAddBoard=!1}onAddBoard(){this.listBoard.push({id:this.listBoard.length+1,name:this.formGroup.get("name")?.value,items:[]}),this.closeDialog()}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u({type:e,selectors:[["app-project-board"]],decls:6,vars:2,consts:[[1,"p-4"],[3,"title"],[1,"flex","gap-3"],["class","h-full",4,"ngFor","ngForOf"],[1,"h-full"],["pDroppable","",3,"onDrop","header"],["pDraggable","","class","p-3 surface-overlay border-1 surface-border border-round mb-2 cursor-pointer",3,"onDragEnd","onDragStart",4,"ngFor","ngForOf"],["pDraggable","",1,"p-3","surface-overlay","border-1","surface-border","border-round","mb-2","cursor-pointer",3,"onDragEnd","onDragStart"],[1,"p-card-header"],[1,"p-card-body"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"phantom-header",1),l(2,"project-board-add"),i(),r(3,"phantom-content")(4,"div",2),x(5,ie,3,2,"div",3),i()()()),t&2&&(d(),m("title","MENU_PROJECT_MEMBER"),d(4),m("ngForOf",a.listBoard))},dependencies:[M,$,q,z,Q,X,ee],styles:["[_nghost-%COMP%]     .p-panel{width:300px}[_nghost-%COMP%]     .p-panel .p-panel-header{background-color:var(--surface-overlay)}[_nghost-%COMP%]     .p-panel .p-panel-content{min-height:30rem;padding:.5rem;background-color:var(--surface-ground)}"]});let o=e;return o})();var ne=[{path:"",component:te}],Fe=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S({type:e}),e.\u0275inj=E({imports:[A,j.forChild(ne),U,k,J,L,Y]});let o=e;return o})();export{Fe as ProjectBoardModule};
