import{A as hi,B as ui,a as Re,d as Tt,m as ii,n as ri,p as ai,q as si,r as re,s as oi,t as li,w as ci,x as di,z as ae}from"./chunk-4MDFEKZQ.js";import{$ as kt,$a as J,C as Hn,D as Nn,Eb as yt,Fb as vt,G as Xt,Ga as Kt,H as Ct,Hb as ne,I as Ee,J as b,Ja as f,Ka as q,La as h,M as Vn,Ma as E,Mb as St,N as $t,Na as L,O as Un,P as Zt,Pa as te,Q as it,S as Gn,U as R,V as Yn,Va as p,Vb as Kn,W as Me,Wa as y,X as Jt,Xa as x,Xb as ie,Ya as V,Yb as dt,Za as U,Zb as X,_a as Pe,aa as T,b as Te,ba as O,bb as G,bc as ti,ca as j,cc as nt,d as Y,db as u,e as Rt,eb as qn,fb as zn,fc as ei,g as Wn,ga as D,h as Oe,ha as et,hb as P,hc as ni,i as Rn,ib as lt,j as $n,jb as k,k as Dt,ka as N,kb as S,la as An,lb as mt,mb as ft,nb as Xn,o as Ie,ob as Bt,qa as Qn,s as Q,t as Bn,ta as jn,tb as ee,u as pt,ub as $,v as Fn,va as d,w as zt,wa as v,wb as We,xb as ct,y as Ln,yb as Zn,z as tt,zb as Jn}from"./chunk-W5AWQ2AG.js";import{a as ke,b as Se,g as Pn}from"./chunk-GAL4ENT6.js";function c(n){let e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function M(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function Ft(n,e){let r=c(n);return isNaN(e)?M(n,NaN):(e&&r.setDate(r.getDate()+e),r)}function bt(n,e){let r=c(n);if(isNaN(e))return M(n,NaN);if(!e)return r;let t=r.getDate(),i=M(n,r.getTime());i.setMonth(r.getMonth()+e+1,0);let a=i.getDate();return t>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),t),r)}function $e(n){let e=c(n).getDay();return e===0||e===6}function Ot(n,e){let r=+c(n);return M(n,r+e)}var rr=Math.pow(10,8)*24*60*60*1e3,Ao=-rr,se=6048e5,gi=864e5,oe=6e4,le=36e5;var ar=3600;var pi=ar*24,Qo=pi*7,sr=pi*365.2425,or=sr/12,jo=or*3;function Lt(n,e){return Ot(n,e*le)}var mi={};function Z(){return mi}function fi(n){mi=n}function H(n,e){let r=Z(),t=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=c(n),a=i.getDay(),s=(a<t?7:0)+a-t;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function wt(n){return H(n,{weekStartsOn:1})}function ce(n){let e=c(n),r=e.getFullYear(),t=M(n,0);t.setFullYear(r+1,0,4),t.setHours(0,0,0,0);let i=wt(t),a=M(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);let s=wt(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function rt(n){let e=c(n);return e.setHours(0,0,0,0),e}function Be(n){let e=c(n),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+n-+r}function at(n,e){let r=rt(n),t=rt(e),i=+r-Be(r),a=+t-Be(t);return Math.round((i-a)/gi)}function yi(n){let e=ce(n),r=M(n,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),wt(r)}function Fe(n,e){return Ot(n,e*oe)}function Le(n,e){let r=e*3;return bt(n,r)}function He(n,e){return Ot(n,e*1e3)}function Ht(n,e){let r=e*7;return Ft(n,r)}function Ne(n,e){return bt(n,e*12)}function vi(n){return M(n,Date.now())}function bi(n,e){let r=rt(n),t=rt(e);return+r==+t}function wi(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function _i(n){if(!wi(n)&&typeof n!="number")return!1;let e=c(n);return!isNaN(Number(e))}function Ve(n){let e=c(n);return Math.trunc(e.getMonth()/3)+1}function de(n,e){let r=c(n),t=c(e),i=r.getFullYear()-t.getFullYear(),a=Ve(r)-Ve(t);return i*4+a}function xi(n,e){let r=c(n),t=c(e);return r.getFullYear()-t.getFullYear()}function Ue(n,e){let r=c(n),t=c(e),i=Di(r,t),a=Math.abs(at(r,t));r.setDate(r.getDate()-i*a);let s=+(Di(r,t)===-i),o=i*(a-s);return o===0?0:o}function Di(n,e){let r=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function he(n){return e=>{let t=(n?Math[n]:Math.trunc)(e);return t===0?0:t}}function ue(n,e){return+c(n)-+c(e)}function Ci(n,e,r){let t=ue(n,e)/le;return he(r?.roundingMethod)(t)}function ge(n,e,r){let t=ue(n,e)/oe;return he(r?.roundingMethod)(t)}function Ge(n){let e=c(n);return e.setHours(23,59,59,999),e}function Ye(n){let e=c(n),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function pe(n,e){let r=c(n.start),t=c(n.end),i=+r>+t,a=i?+r:+t,s=i?t:r;s.setHours(0,0,0,0);let o=e?.step??1;if(!o)return[];o<0&&(o=-o,i=!i);let l=[];for(;+s<=a;)l.push(c(s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function Ae(n,e){let r=c(n.start),t=c(n.end),i=+r>+t,a=i?+r:+t,s=i?t:r;s.setMinutes(0,0,0);let o=e?.step??1;if(!o)return[];o<0&&(o=-o,i=!i);let l=[];for(;+s<=a;)l.push(c(s)),s=Lt(s,o);return i?l.reverse():l}function Qe(n){let e=c(n);return e.setSeconds(0,0),e}function je(n,e){let r=c(n.start),t=c(n.end),i=+r>+t,a=i?+r:+t,s=i?t:r;s.setHours(0,0,0,0),s.setDate(1);let o=e?.step??1;if(!o)return[];o<0&&(o=-o,i=!i);let l=[];for(;+s<=a;)l.push(c(s)),s.setMonth(s.getMonth()+o);return i?l.reverse():l}function qe(n){let e=c(n),r=e.getMonth(),t=r-r%3;return e.setMonth(t,1),e.setHours(0,0,0,0),e}function Nt(n,e){let r=c(n.start),t=c(n.end),i=+r>+t,a=i?H(t,e):H(r,e),s=i?H(r,e):H(t,e);a.setHours(15),s.setHours(15);let o=+s.getTime(),l=a,g=e?.step??1;if(!g)return[];g<0&&(g=-g,i=!i);let m=[];for(;+l<=o;)l.setHours(0),m.push(c(l)),l=Ht(l,g),l.setHours(15);return i?m.reverse():m}function ze(n){let e=c(n);return e.setDate(1),e.setHours(0,0,0,0),e}function Xe(n){let e=c(n),r=e.getFullYear();return e.setFullYear(r+1,0,0),e.setHours(23,59,59,999),e}function Vt(n){let e=c(n),r=M(n,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ze(n,e){let r=c(n.start),t=c(n.end),i=+r>+t,a=i?+r:+t,s=i?t:r;s.setHours(0,0,0,0),s.setMonth(0,1);let o=e?.step??1;if(!o)return[];o<0&&(o=-o,i=!i);let l=[];for(;+s<=a;)l.push(c(s)),s.setFullYear(s.getFullYear()+o);return i?l.reverse():l}function Je(n){let e=c(n);return e.setMinutes(59,59,999),e}function Ke(n,e){let r=Z(),t=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=c(n),a=i.getDay(),s=(a<t?-7:0)+6-(a-t);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function tn(n){let e=c(n);return e.setSeconds(59,999),e}function en(n){let e=c(n),r=e.getMonth(),t=r-r%3+3;return e.setMonth(t,0),e.setHours(23,59,59,999),e}var lr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ki=(n,e,r)=>{let t,i=lr[n];return typeof i=="string"?t=i:e===1?t=i.one:t=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+t:t+" ago":t};function me(n){return(e={})=>{let r=e.width?String(e.width):n.defaultWidth;return n.formats[r]||n.formats[n.defaultWidth]}}var cr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Si={date:me({formats:cr,defaultWidth:"full"}),time:me({formats:dr,defaultWidth:"full"}),dateTime:me({formats:hr,defaultWidth:"full"})};var ur={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ti=(n,e,r,t)=>ur[n];function It(n){return(e,r)=>{let t=r?.context?String(r.context):"standalone",i;if(t==="formatting"&&n.formattingValues){let s=n.defaultFormattingWidth||n.defaultWidth,o=r?.width?String(r.width):s;i=n.formattingValues[o]||n.formattingValues[s]}else{let s=n.defaultWidth,o=r?.width?String(r.width):n.defaultWidth;i=n.values[o]||n.values[s]}let a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}var gr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},br=(n,e)=>{let r=Number(n),t=r%100;if(t>20||t<10)switch(t%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Oi={ordinalNumber:br,era:It({values:gr,defaultWidth:"wide"}),quarter:It({values:pr,defaultWidth:"wide",argumentCallback:n=>n-1}),month:It({values:mr,defaultWidth:"wide"}),day:It({values:fr,defaultWidth:"wide"}),dayPeriod:It({values:yr,defaultWidth:"wide",formattingValues:vr,defaultFormattingWidth:"wide"})};function Et(n){return(e,r={})=>{let t=r.width,i=t&&n.matchPatterns[t]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;let s=a[0],o=t&&n.parsePatterns[t]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?_r(o,w=>w.test(s)):wr(o,w=>w.test(s)),g;g=n.valueCallback?n.valueCallback(l):l,g=r.valueCallback?r.valueCallback(g):g;let m=e.slice(s.length);return{value:g,rest:m}}}function wr(n,e){for(let r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&e(n[r]))return r}function _r(n,e){for(let r=0;r<n.length;r++)if(e(n[r]))return r}function Ii(n){return(e,r={})=>{let t=e.match(n.matchPattern);if(!t)return null;let i=t[0],a=e.match(n.parsePattern);if(!a)return null;let s=n.valueCallback?n.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;let o=e.slice(i.length);return{value:s,rest:o}}}var xr=/^(\d+)(th|st|nd|rd)?/i,Dr=/\d+/i,Cr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kr={any:[/^b/i,/^(a|c)/i]},Sr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Tr={any:[/1/i,/2/i,/3/i,/4/i]},Or={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ir={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Er={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ei={ordinalNumber:Ii({matchPattern:xr,parsePattern:Dr,valueCallback:n=>parseInt(n,10)}),era:Et({matchPatterns:Cr,defaultMatchWidth:"wide",parsePatterns:kr,defaultParseWidth:"any"}),quarter:Et({matchPatterns:Sr,defaultMatchWidth:"wide",parsePatterns:Tr,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Et({matchPatterns:Or,defaultMatchWidth:"wide",parsePatterns:Ir,defaultParseWidth:"any"}),day:Et({matchPatterns:Er,defaultMatchWidth:"wide",parsePatterns:Mr,defaultParseWidth:"any"}),dayPeriod:Et({matchPatterns:Pr,defaultMatchWidth:"any",parsePatterns:Wr,defaultParseWidth:"any"})};var nn={code:"en-US",formatDistance:ki,formatLong:Si,formatRelative:Ti,localize:Oi,match:Ei,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mi(n){let e=c(n);return at(e,Vt(e))+1}function Pi(n){let e=c(n),r=+wt(e)-+yi(e);return Math.round(r/se)+1}function fe(n,e){let r=c(n),t=r.getFullYear(),i=Z(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=M(n,0);s.setFullYear(t+1,0,a),s.setHours(0,0,0,0);let o=H(s,e),l=M(n,0);l.setFullYear(t,0,a),l.setHours(0,0,0,0);let g=H(l,e);return r.getTime()>=o.getTime()?t+1:r.getTime()>=g.getTime()?t:t-1}function Wi(n,e){let r=Z(),t=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=fe(n,e),a=M(n,0);return a.setFullYear(i,0,t),a.setHours(0,0,0,0),H(a,e)}function Ut(n,e){let r=c(n),t=+H(r,e)-+Wi(r,e);return Math.round(t/se)+1}function C(n,e){let r=n<0?"-":"",t=Math.abs(n).toString().padStart(e,"0");return r+t}var st={y(n,e){let r=n.getFullYear(),t=r>0?r:1-r;return C(e==="yy"?t%100:t,e.length)},M(n,e){let r=n.getMonth();return e==="M"?String(r+1):C(r+1,2)},d(n,e){return C(n.getDate(),e.length)},a(n,e){let r=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(n,e){return C(n.getHours()%12||12,e.length)},H(n,e){return C(n.getHours(),e.length)},m(n,e){return C(n.getMinutes(),e.length)},s(n,e){return C(n.getSeconds(),e.length)},S(n,e){let r=e.length,t=n.getMilliseconds(),i=Math.trunc(t*Math.pow(10,r-3));return C(i,e.length)}};var Mt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rn={G:function(n,e,r){let t=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})}},y:function(n,e,r){if(e==="yo"){let t=n.getFullYear(),i=t>0?t:1-t;return r.ordinalNumber(i,{unit:"year"})}return st.y(n,e)},Y:function(n,e,r,t){let i=fe(n,t),a=i>0?i:1-i;if(e==="YY"){let s=a%100;return C(s,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):C(a,e.length)},R:function(n,e){let r=ce(n);return C(r,e.length)},u:function(n,e){let r=n.getFullYear();return C(r,e.length)},Q:function(n,e,r){let t=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(t);case"QQ":return C(t,2);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})}},q:function(n,e,r){let t=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(t);case"qq":return C(t,2);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})}},M:function(n,e,r){let t=n.getMonth();switch(e){case"M":case"MM":return st.M(n,e);case"Mo":return r.ordinalNumber(t+1,{unit:"month"});case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})}},L:function(n,e,r){let t=n.getMonth();switch(e){case"L":return String(t+1);case"LL":return C(t+1,2);case"Lo":return r.ordinalNumber(t+1,{unit:"month"});case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})}},w:function(n,e,r,t){let i=Ut(n,t);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):C(i,e.length)},I:function(n,e,r){let t=Pi(n);return e==="Io"?r.ordinalNumber(t,{unit:"week"}):C(t,e.length)},d:function(n,e,r){return e==="do"?r.ordinalNumber(n.getDate(),{unit:"date"}):st.d(n,e)},D:function(n,e,r){let t=Mi(n);return e==="Do"?r.ordinalNumber(t,{unit:"dayOfYear"}):C(t,e.length)},E:function(n,e,r){let t=n.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})}},e:function(n,e,r,t){let i=n.getDay(),a=(i-t.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return C(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,r,t){let i=n.getDay(),a=(i-t.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return C(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,r){let t=n.getDay(),i=t===0?7:t;switch(e){case"i":return String(i);case"ii":return C(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(t,{width:"short",context:"formatting"});case"iiii":default:return r.day(t,{width:"wide",context:"formatting"})}},a:function(n,e,r){let i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,r){let t=n.getHours(),i;switch(t===12?i=Mt.noon:t===0?i=Mt.midnight:i=t/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,r){let t=n.getHours(),i;switch(t>=17?i=Mt.evening:t>=12?i=Mt.afternoon:t>=4?i=Mt.morning:i=Mt.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,r){if(e==="ho"){let t=n.getHours()%12;return t===0&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return st.h(n,e)},H:function(n,e,r){return e==="Ho"?r.ordinalNumber(n.getHours(),{unit:"hour"}):st.H(n,e)},K:function(n,e,r){let t=n.getHours()%12;return e==="Ko"?r.ordinalNumber(t,{unit:"hour"}):C(t,e.length)},k:function(n,e,r){let t=n.getHours();return t===0&&(t=24),e==="ko"?r.ordinalNumber(t,{unit:"hour"}):C(t,e.length)},m:function(n,e,r){return e==="mo"?r.ordinalNumber(n.getMinutes(),{unit:"minute"}):st.m(n,e)},s:function(n,e,r){return e==="so"?r.ordinalNumber(n.getSeconds(),{unit:"second"}):st.s(n,e)},S:function(n,e){return st.S(n,e)},X:function(n,e,r){let t=n.getTimezoneOffset();if(t===0)return"Z";switch(e){case"X":return $i(t);case"XXXX":case"XX":return _t(t);case"XXXXX":case"XXX":default:return _t(t,":")}},x:function(n,e,r){let t=n.getTimezoneOffset();switch(e){case"x":return $i(t);case"xxxx":case"xx":return _t(t);case"xxxxx":case"xxx":default:return _t(t,":")}},O:function(n,e,r){let t=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ri(t,":");case"OOOO":default:return"GMT"+_t(t,":")}},z:function(n,e,r){let t=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ri(t,":");case"zzzz":default:return"GMT"+_t(t,":")}},t:function(n,e,r){let t=Math.trunc(n.getTime()/1e3);return C(t,e.length)},T:function(n,e,r){let t=n.getTime();return C(t,e.length)}};function Ri(n,e=""){let r=n>0?"-":"+",t=Math.abs(n),i=Math.trunc(t/60),a=t%60;return a===0?r+String(i):r+String(i)+e+C(a,2)}function $i(n,e){return n%60===0?(n>0?"-":"+")+C(Math.abs(n)/60,2):_t(n,e)}function _t(n,e=""){let r=n>0?"-":"+",t=Math.abs(n),i=C(Math.trunc(t/60),2),a=C(t%60,2);return r+i+e+a}var Bi=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Fi=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Rr=(n,e)=>{let r=n.match(/(P+)(p+)?/)||[],t=r[1],i=r[2];if(!i)return Bi(n,e);let a;switch(t){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Bi(t,e)).replace("{{time}}",Fi(i,e))},Li={p:Fi,P:Rr};var $r=/^D+$/,Br=/^Y+$/,Fr=["D","DD","YY","YYYY"];function Hi(n){return $r.test(n)}function Ni(n){return Br.test(n)}function Vi(n,e,r){let t=Lr(n,e,r);if(console.warn(t),Fr.includes(n))throw new RangeError(t)}function Lr(n,e,r){let t=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${t} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Hr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vr=/^'([^]*?)'?$/,Ur=/''/g,Gr=/[a-zA-Z]/;function an(n,e,r){let t=Z(),i=r?.locale??t.locale??nn,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,o=c(n);if(!_i(o))throw new RangeError("Invalid time value");let l=e.match(Nr).map(m=>{let w=m[0];if(w==="p"||w==="P"){let F=Li[w];return F(m,i.formatLong)}return m}).join("").match(Hr).map(m=>{if(m==="''")return{isToken:!1,value:"'"};let w=m[0];if(w==="'")return{isToken:!1,value:Yr(m)};if(rn[w])return{isToken:!0,value:m};if(w.match(Gr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));let g={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(m=>{if(!m.isToken)return m.value;let w=m.value;(!r?.useAdditionalWeekYearTokens&&Ni(w)||!r?.useAdditionalDayOfYearTokens&&Hi(w))&&Vi(w,e,String(n));let F=rn[w[0]];return F(o,w,i.localize,g)}).join("")}function Yr(n){let e=n.match(Vr);return e?e[1].replace(Ur,"'"):n}function sn(n){return c(n*1e3)}function on(n){let e=c(n),r=e.getFullYear(),t=e.getMonth(),i=M(n,0);return i.setFullYear(r,t+1,0),i.setHours(0,0,0,0),i.getDate()}function ln(n){return Math.trunc(+c(n)/1e3)}function cn(n){let e=c(n);return e.setMinutes(0,0,0),e}function dn(n){return bi(n,vi(n))}function hn(n,e){let r=c(n);return r.setDate(e),r}function Ui(n){let e={},r=Z();for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]===void 0?delete e[t]:e[t]=n[t]);fi(e)}var Ar=["bar"],Qr=["range"],jr=["item"],qr=["baseline"],zr=["group"],Xr=["groupHeader"],Zr=["toolbar"],Jr=["content"],Kr=["handle"],On=(n,e)=>({item:n,refs:e});function ta(n,e){n&1&&(V(0),x(1,"span",10,1)(3,"span",10,1),U())}function ea(n,e){n&1&&(p(0,"div",11)(1,"span",10),x(2,"span",12),y(),p(3,"span",10),x(4,"span",12),y()())}function na(n,e){if(n&1&&x(0,"div",13),n&2){let r=u();E("width",r.item.progress*100,"%")}}function ia(n,e){}function ra(n,e){}function aa(n,e){if(n&1&&(p(0,"div",2,0),f(2,ra,0,0,"ng-template",3),y()),n&2){let r=u();d(2),h("ngTemplateOutlet",r.template)("ngTemplateOutletContext",ct(2,On,r.baselineItem.origin,r.baselineItem.refs))}}function sa(n,e){n&1&&x(0,"span",5)}function oa(n,e){if(n&1&&(j(),x(0,"line",7)),n&2){let r=e.index,t=u(2);q("x1",(r+1)*t.view.cellWidth)("x2",(r+1)*t.view.cellWidth)("y1",0)("y2",t.mainHeight)}}function la(n,e){if(n&1&&(j(),p(0,"g"),f(1,oa,1,4,"line",6),y()),n&2){let r=u();d(),h("ngForOf",r.view.secondaryDatePoints)("ngForTrackBy",r.trackBy)}}function ca(n,e){if(n&1&&(j(),x(0,"line",8)),n&2){let r=e.index,t=u();q("x1",(r+1)*t.view.primaryWidth)("x2",(r+1)*t.view.primaryWidth)("y1",0)("y2",t.mainHeight)}}function da(n,e){if(n&1&&(j(),p(0,"text",6),ft(1),y()),n&2){let r=e.$implicit;L("today",r.additions==null?null:r.additions.isToday)("weekend",r.additions==null?null:r.additions.isWeekend),h("ngStyle",r.style),q("x",r.x)("y",r.y),d(),Bt(" ",r.text," ")}}function ha(n,e){if(n&1&&(j(),V(0),p(1,"text",7),ft(2),y(),U()),n&2){let r=e.$implicit;d(),L("today",r.additions==null?null:r.additions.isToday)("weekend",r.additions==null?null:r.additions.isWeekend),h("ngStyle",r.style),q("x",r.x)("y",r.y),d(),Bt(" ",r.text," ")}}function ua(n,e){if(n&1&&(j(),x(0,"line",8)),n&2){let r=e.index,t=u();q("x1",(r+1)*t.view.primaryWidth)("x2",(r+1)*t.view.primaryWidth)("y1",0)("y2",t.headerHeight)}}function ga(n,e){if(n&1&&(j(),p(0,"marker",8),x(1,"path",9),y()),n&2){let r=u(2),t=r.$implicit,i=r.index;h("id","triangle"+i),d(),q("fill",t.color)("stroke",t.color)}}function pa(n,e){if(n&1&&(j(),p(0,"marker",10),x(1,"path",9),y()),n&2){let r=u(2),t=r.$implicit,i=r.index;h("id","triangle"+i),d(),q("fill",t.color)("stroke",t.color)}}function ma(n,e){if(n&1&&(j(),p(0,"defs"),f(1,ga,2,3,"marker",7)(2,pa,2,3,"ng-template",null,0,ne),y()),n&2){let r=mt(3),t=u().$implicit,i=u();d(),h("ngIf",t.type===i.ganttLinkTypes.sf)("ngIfElse",r)}}function fa(n,e){if(n&1){let r=J();j(),V(0),x(1,"path",4),p(2,"g")(3,"path",5),G("click",function(i){let a=T(r).$implicit,s=u();return O(s.onLineClick(i,a))})("mouseenter",function(){let i=T(r),a=i.$implicit,s=i.index,o=u();return O(o.mouseEnterPath(a,s))})("mouseleave",function(){let i=T(r).$implicit,a=u();return O(a.mouseLeavePath(i))}),y()(),f(4,ma,4,2,"defs",6),U()}if(n&2){let r=e.$implicit,t=e.index,i=u();d(),q("d",r.path)("stroke",r.color)("style",r.type===i.ganttLinkTypes.sf?"marker-start: url(#triangle"+t+")":"marker-end: url(#triangle"+t+")",Qn),d(2),q("d",r.path),d(),h("ngIf",i.showArrow)}}function ya(n,e){if(n&1&&x(0,"div",6),n&2){let r=u(2);E("width",r.item.progress*100,"%")}}function va(n,e){}function ba(n,e){if(n&1&&(V(0),p(1,"div",1),f(2,ya,1,2,"div",2),y(),x(3,"div",3)(4,"div",4),f(5,va,0,0,"ng-template",5),U()),n&2){let r=u();d(2),h("ngIf",r.item.progress>=0),d(3),h("ngTemplateOutlet",r.template)("ngTemplateOutletContext",ct(3,On,r.item.origin,r.item.refs))}}var wa=n=>({group:n}),_a=(n,e,r,t)=>({item:n,refs:e,baseline:r,baselineRefs:t});function xa(n,e){}function Da(n,e){if(n&1&&(p(0,"div",5),f(1,xa,0,0,"ng-template",6),y()),n&2){let r=u().$implicit,t=u();h("ngClass",r.class),d(),h("ngTemplateOutlet",t.groupHeaderTemplate)("ngTemplateOutletContext",We(3,wa,r))}}function Ca(n,e){}function ka(n,e){if(n&1&&(V(0),f(1,Ca,0,0,"ng-template",6),U()),n&2){let r=u(2).$implicit,t=u();d(),h("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",Jn(2,_a,r.origin,r.refs,t.ganttUpper.baselineItemsMap[r.id]==null?null:t.ganttUpper.baselineItemsMap[r.id].origin,t.ganttUpper.baselineItemsMap[r.id]==null?null:t.ganttUpper.baselineItemsMap[r.id].refs))}}function Sa(n,e){if(n&1&&x(0,"gantt-range",12),n&2){let r=u(3).$implicit,t=u();h("template",t.rangeTemplate)("item",r)}}function Ta(n,e){if(n&1){let r=J();p(0,"gantt-bar",13),G("barClick",function(i){T(r);let a=u(4);return O(a.barClick.emit(i))}),y()}if(n&2){let r=u(3).$implicit,t=u();h("item",r)("template",t.barTemplate)}}function Oa(n,e){if(n&1&&x(0,"gantt-baseline",14),n&2){let r=u(3).$implicit,t=u();h("baselineItem",t.ganttUpper.baselineItemsMap[r.id])("template",t.baselineTemplate)}}function Ia(n,e){if(n&1&&(V(0),f(1,Sa,1,2,"gantt-range",9),yt(2,"isGanttRangeItem"),f(3,Ta,1,2,"gantt-bar",10),yt(4,"isGanttBarItem"),f(5,Oa,1,2,"gantt-baseline",11),U()),n&2){let r=u(2).$implicit,t=u();d(),h("ngIf",vt(2,3,r.type)),d(2),h("ngIf",vt(4,5,r.type)),d(2),h("ngIf",t.ganttUpper.baselineItemsMap[r.id])}}function Ea(n,e){if(n&1&&(p(0,"div",7),f(1,ka,2,7,"ng-container",8),yt(2,"isGanttCustomItem"),f(3,Ia,6,7,"ng-container",8),yt(4,"isGanttRangeItem"),yt(5,"isGanttBarItem"),y()),n&2){let r=u().$implicit,t=u();E("height",t.ganttUpper.styles.lineHeight,"px"),L("gantt-main-item-active",t.ganttUpper.isSelected(r.id)),d(),h("ngIf",vt(2,6,r.type)),d(2),h("ngIf",vt(4,8,r.type)||vt(5,10,r.type))}}function Ma(n,e){if(n&1&&(V(0),f(1,Da,2,5,"div",3)(2,Ea,6,12,"div",4),U()),n&2){let r=e.$implicit;d(),h("ngIf",r.items),d(),h("ngIf",!r.items)}}var Pa=["resizeLine"];function Wa(n,e){if(n&1&&Pe(0,9),n&2){let r=u().$implicit;h("ngTemplateOutlet",r.headerTemplateRef)}}function Ra(n,e){if(n&1&&ft(0),n&2){let r=u().$implicit;Bt(" ",r.name," ")}}function $a(n,e){if(n&1){let r=J();p(0,"div",6),f(1,Wa,1,1,"ng-container",7)(2,Ra,1,1,"ng-template",null,1,ne),p(4,"div",8),G("cdkDragMoved",function(i){let a=T(r).$implicit,s=u();return O(s.onResizeMoved(i,a))})("cdkDragStarted",function(i){T(r);let a=u();return O(a.onResizeStarted(i))})("cdkDragEnded",function(i){let a=T(r).$implicit,s=u();return O(s.onResizeEnded(i,a))}),y()()}if(n&2){let r=e.$implicit,t=mt(3);E("width",r.columnWidth),d(),h("ngIf",r.headerTemplateRef)("ngIfElse",t)}}var Ba=(n,e)=>({$implicit:n,group:e}),pn=(n,e)=>({$implicit:n,item:e});function Fa(n,e){n&1&&(V(0),x(1,"gantt-icon",4),p(2,"div",5),ft(3,"\u6CA1\u6709\u6570\u636E"),y(),U())}function La(n,e){}function Ha(n,e){if(n&1&&(V(0),f(1,Fa,4,0,"ng-container",2)(2,La,0,0,"ng-template",3),U()),n&2){let r=u();d(),h("ngIf",!r.emptyTemplate),d(),h("ngTemplateOutlet",r.emptyTemplate)}}function Na(n,e){}function Va(n,e){if(n&1&&(V(0),f(1,Na,0,0,"ng-template",13),U()),n&2){let r=u(2).$implicit,t=u(2);d(),h("ngTemplateOutlet",t.groupTemplate)("ngTemplateOutletContext",ct(2,Ba,r.origin,r.origin))}}function Ua(n,e){if(n&1&&(p(0,"span",14),ft(1),y()),n&2){let r=u(2).$implicit;d(),Xn(r.title)}}function Ga(n,e){if(n&1){let r=J();p(0,"div",9)(1,"div",10),G("click",function(){T(r);let i=u().$implicit,a=u(2);return O(a.expandGroup(i))}),x(2,"gantt-icon",11),f(3,Va,2,5,"ng-container",12)(4,Ua,2,1,"ng-template",null,0,ne),y()()}if(n&2){let r=mt(5),t=u().$implicit,i=u(2);h("ngClass",t.class),d(),L("expanded",t.expanded),d(),h("iconName",t.expanded?"angle-down":"angle-right"),d(),h("ngIf",i.groupTemplate)("ngIfElse",r)}}function Ya(n,e){}function Aa(n,e){if(n&1&&x(0,"gantt-icon",21),n&2){let r=u(3).$implicit,t=u(2);h("cdkDragHandleDisabled",t.draggable&&r.itemDraggable===!1||!t.draggable)}}function Qa(n,e){if(n&1){let r=J();p(0,"gantt-icon",25),G("click",function(i){T(r);let a=u(5).$implicit,s=u(2);return O(s.expandChildren(i,a))}),y()}if(n&2){let r=u(5).$implicit;h("iconName",r.expanded?"angle-down":"angle-right")}}function ja(n,e){n&1&&x(0,"gantt-icon",26),n&2&&h("iconName","loading")}function qa(n,e){if(n&1&&(V(0),f(1,Qa,1,1,"gantt-icon",23)(2,ja,1,1,"gantt-icon",24),U()),n&2){let r=u(4).$implicit;d(),h("ngIf",!r.loading),d(),h("ngIf",r.loading)}}function za(n,e){if(n&1&&(p(0,"div",22),f(1,qa,3,2,"ng-container",2),y()),n&2){let r=u(3).$implicit,t=u(2);E("margin-left",r.level*20,"px"),d(),h("ngIf",r.level<t.gantt.maxLevel-1&&(t.gantt.async&&r.expandable||(r.children==null?null:r.children.length)>0))}}function Xa(n,e){}function Za(n,e){if(n&1&&(p(0,"div",17),f(1,Aa,1,1,"gantt-icon",18)(2,za,2,3,"div",19),p(3,"div",20),f(4,Xa,0,0,"ng-template",13),y()()),n&2){let r=e.$implicit,t=e.first,i=u(2).$implicit,a=u(2);E("width",r.columnWidth),h("classList",r.classList),d(),h("ngIf",t&&a.draggable),d(),h("ngIf",(r==null?null:r.showExpandIcon)||!a.hasExpandIcon&&t),d(2),h("ngTemplateOutlet",r.templateRef)("ngTemplateOutletContext",ct(7,pn,i.origin,i.origin))}}function Ja(n,e){}function Ka(n,e){if(n&1){let r=J();p(0,"div",15),yt(1,"isGanttRangeItem"),G("click",function(i){T(r);let a=u().$implicit,s=u(2);return O(s.itemClick.emit({event:i,selectedValue:a.origin}))})("cdkDragStarted",function(i){T(r);let a=u(3);return O(a.onItemDragStarted(i))})("cdkDragEnded",function(i){T(r);let a=u(3);return O(a.onItemDragEnded(i))})("cdkDragMoved",function(i){T(r);let a=u(3);return O(a.emitItemDragMoved(i))}),f(2,Ya,0,0,"ng-template",13)(3,Za,5,10,"div",16)(4,Ja,0,0,"ng-template",13),y()}if(n&2){let r=u().$implicit,t=u(2);E("height",t.gantt.styles.lineHeight,"px")("line-height",t.gantt.styles.lineHeight,"px"),L("gantt-table-item-with-group",t.hasGroup)("gantt-table-item-first-level-group",r.level===0&&vt(1,17,r.type))("gantt-table-item-active",t.ganttUpper.isSelected(r.id)),h("cdkDragData",r)("cdkDragDisabled",t.draggable&&r.itemDraggable===!1||!t.draggable),d(2),h("ngTemplateOutlet",t.rowBeforeTemplate)("ngTemplateOutletContext",ct(19,pn,r.origin,r.origin)),d(),h("ngForOf",t.columns),d(),h("ngTemplateOutlet",t.rowAfterTemplate)("ngTemplateOutletContext",ct(22,pn,r.origin,r.origin))}}function ts(n,e){if(n&1&&(V(0),f(1,Ga,6,6,"div",7)(2,Ka,5,25,"div",8),U()),n&2){let r=e.$implicit;d(),h("ngIf",r.items),d(),h("ngIf",!r.items)}}function es(n,e){if(n&1&&(V(0),f(1,ts,3,2,"ng-container",6),U()),n&2){let r=u();d(),h("ngForOf",r.viewportItems)("ngForTrackBy",r.trackBy)}}function ns(n,e){if(n&1){let r=J();p(0,"div",7),G("click",function(){T(r);let i=u().$implicit,a=u(3);return O(a.selectView(i))}),ft(1),y()}if(n&2){let r=u().$implicit,t=u(3);L("active",r===t.ganttUpper.viewType),d(),Bt(" ",t.ganttViewsMap[r].name," ")}}function is(n,e){if(n&1&&(V(0),f(1,ns,2,3,"div",6),U()),n&2){let r=e.$implicit,t=u(3);d(),h("ngIf",t.ganttViewsMap[r])}}function rs(n,e){if(n&1&&(p(0,"div",4),f(1,is,2,1,"ng-container",5),y()),n&2){let r=u(2);d(),h("ngForOf",r.ganttUpper.toolbarOptions==null?null:r.ganttUpper.toolbarOptions.viewTypes)}}function as(n,e){if(n&1&&(V(0),f(1,rs,2,1,"div",3),U()),n&2){let r=u();d(),h("ngIf",r.ganttUpper.toolbarOptions==null||r.ganttUpper.toolbarOptions.viewTypes==null?null:r.ganttUpper.toolbarOptions.viewTypes.length)}}function ss(n,e){}var os=["sideTemplate"],ls=["mainTemplate"],cs=["*"];function ds(n,e){}function hs(n,e){if(n&1&&(p(0,"div",3)(1,"div",4),f(2,ds,0,0,"ng-template",5),y()()),n&2){let r=u();E("width",r.sideWidth,"px")("padding-bottom",r.horizontalScrollbarHeight,"px"),d(2),h("ngTemplateOutlet",r.sideTemplate)}}function us(n,e){}function gs(n,e){if(n&1&&(p(0,"div",6),x(1,"gantt-calendar-header")(2,"gantt-calendar-grid")(3,"gantt-drag-backdrop"),p(4,"div",7),f(5,us,0,0,"ng-template",5),y()()),n&2){let r=u();d(),E("padding-right",r.verticalScrollbarWidth,"px"),d(),E("padding-right",r.verticalScrollbarWidth,"px")("padding-bottom",r.horizontalScrollbarHeight,"px"),d(3),h("ngTemplateOutlet",r.mainTemplate)}}function ps(n,e){if(n&1&&x(0,"gantt-toolbar",8),n&2){let r=u();h("template",r.ganttUpper.toolbarTemplate)}}var ms=["cell"],fs=["header"],ys=["rowBeforeSlot"],vs=["rowAfterSlot"],Xi=["tableEmpty"],bs=["tableFooter"],ws=["footer"],_s=["ganttRoot"],xs=(n,e,r)=>({"gantt-normal-viewport":n,"gantt-scroll-container":e,"with-footer":r}),Ds=n=>({columns:n});function Cs(n,e){n&1&&x(0,"gantt-loader")}function ks(n,e){n&1&&Pe(0)}function Ss(n,e){}function Ts(n,e){if(n&1&&(p(0,"div",22),f(1,Ss,0,0,"ng-template",23),y()),n&2){let r=u(),t=mt(4);E("width",t.tableWidth+1,"px"),d(),h("ngTemplateOutlet",r.table==null?null:r.table.tableFooterTemplate)("ngTemplateOutletContext",We(4,Ds,r.columns))}}function Os(n,e){}function Is(n,e){if(n&1&&(p(0,"div",24),f(1,Os,0,0,"ng-template",25),y()),n&2){let r=u();d(),h("ngTemplateOutlet",r.footerTemplate)}}var z=class{constructor(e,r,t,i,a,s){this.start=e,this.text=r,this.x=t,this.y=i,this.additions=a,this.style=s}};var _=class n{constructor(e){if(e)if(e instanceof Date)this.value=e;else if(typeof e=="string"||typeof e=="number")e.toString().length<13?this.value=sn(+e):this.value=new Date(e);else throw new Error(`The input date type is not supported expect Date | string
                     | number | { date: number; with_time: 0 | 1}, actual ${JSON.stringify(e)}`);else this.value=new Date}getYear(){return this.value.getFullYear()}getMonth(){return this.value.getMonth()}getDay(){return this.value.getDay()}getTime(){return this.value.getTime()}getDate(){return this.value.getDate()}getHours(){return this.value.getHours()}getMinutes(){return this.value.getMinutes()}getSeconds(){return this.value.getSeconds()}getMilliseconds(){return this.value.getMilliseconds()}getWeek(e){return Ut(this.value,e)}getDaysInMonth(){return on(this.value)}getDaysInQuarter(){return at(this.endOfQuarter().addSeconds(1).value,this.startOfQuarter().value)}getDaysInYear(){return at(this.endOfYear().addSeconds(1).value,this.startOfYear().value)}setDate(e){return new n(hn(this.value,e))}clone(){return new n(new Date(this.value))}add(e,r){switch(r){case"second":return new n(this.value).addSeconds(e);case"minute":return new n(this.value).addMinutes(e);case"hour":return new n(this.value).addHours(e);case"day":return new n(this.value).addDays(e);case"week":return new n(this.value).addWeeks(e);case"month":return new n(this.value).addMonths(e);case"quarter":return new n(this.value).addQuarters(e);case"year":return new n(this.value).addYears(e);default:return new n(this.value).addSeconds(e)}}addSeconds(e){return new n(He(this.value,e))}addMinutes(e){return new n(Fe(this.value,e))}addHours(e){return new n(Lt(this.value,e))}addDays(e){return new n(Ft(this.value,e))}addWeeks(e){return new n(Ht(this.value,e))}addMonths(e){return new n(bt(this.value,e))}addQuarters(e){return new n(Le(this.value,e))}addYears(e){return new n(Ne(this.value,e))}startOfMinute(){return new n(Qe(this.value))}startOfHour(){return new n(cn(this.value))}startOfDay(){return new n(rt(this.value))}startOfWeek(e){return new n(H(this.value,e))}startOfMonth(){return new n(ze(this.value))}startOfQuarter(){return new n(qe(this.value))}startOfYear(){return new n(Vt(this.value))}endOfMinute(){return new n(tn(this.value))}endOfHour(){return new n(Je(this.value))}endOfDay(){return new n(Ge(this.value))}endOfWeek(e){return new n(Ke(this.value,e))}endOfMonth(){return new n(Ye(this.value))}endOfQuarter(){return new n(en(this.value))}endOfYear(){return new n(Xe(this.value))}getUnixTime(){return ln(this.value)}format(e,r){return an(this.value,e,r)}isWeekend(){return $e(this.value)}isToday(){return dn(this.value)}},B=function(n){return n[n.fs=1]="fs",n[n.ff=2]="ff",n[n.ss=3]="ss",n[n.sf=4]="sf",n}(B||{}),be=function(n){return n.curve="curve",n.straight="straight",n}(be||{}),At=function(n){return n.default="#cacaca",n.blocked="#FF7575",n.active="#6698ff",n}(At||{}),Gi=120,xt=function(n){return n.bar="bar",n.range="range",n.custom="custom",n}(xt||{}),we=class n{get refs(){return this.refs$.getValue()}constructor(e,r,t){this.view=t,this.refs$=new Rt(null),this.origin=e,this.id=this.origin.id,this.links=(this.origin.links||[]).map(i=>typeof i=="string"?{type:B.fs,link:i}:i),this.color=this.origin.color,this.barStyle=this.origin.barStyle,this.linkable=this.origin.linkable===void 0?!0:this.origin.linkable,this.draggable=this.origin.draggable===void 0?!0:this.origin.draggable,this.itemDraggable=this.origin.itemDraggable,this.expandable=this.origin.expandable||(this.origin.children||[]).length>0,this.expanded=this.origin.expanded===void 0?!1:this.origin.expanded,this.start=e.start?new _(e.start):null,this.end=e.end?new _(e.end):null,this.level=r,this.children=(e.children||[]).map(i=>new n(i,r+1,t)),this.type=this.origin.type||xt.bar,this.progress=this.origin.progress,this.fillDateWhenStartOrEndIsNil(e)}fillDateWhenStartOrEndIsNil(e){this.view&&(e.start&&!e.end&&(this.end=this.view.getDateByXPoint(this.view.getXPointByDate(new _(e.start))+Gi)),!e.start&&e.end&&(this.start=this.view.getDateByXPoint(this.view.getXPointByDate(new _(e.end))-Gi)))}updateRefs(e){this.refs$.next(e)}updateDate(e,r){this.start=e,this.end=r,this.origin.start=this.start.getUnixTime(),this.origin.end=this.end.getUnixTime()}updateLevel(e){this.level=e}addChildren(e){this.origin.children=e,this.children=(e||[]).map(r=>new n(r,this.level+1,this.view))}setExpand(e){this.expanded=e,this.origin.expanded=e}addLink(e){this.links=[...this.links,e],this.origin.links=this.links}},mn=class{constructor(e){this.refs={},this.id=e.id,this.origin=e,this.title=e.title,this.expanded=e.expanded===void 0?!0:e.expanded,this.items=[],this.mergedItems=[[]],this.class=e.class||""}setExpand(e){this.expanded=e,this.origin.expanded=e}},I=function(n){return n.day="day",n.quarter="quarter",n.month="month",n.year="year",n.week="week",n.hour="hour",n}(I||{}),Es=[{name:"\u65E5",value:I.day},{name:"\u5468",value:I.week},{name:"\u6708",value:I.month},{name:"\u5B63",value:I.quarter},{name:"\u5E74",value:I.year}],fn=class{get refs(){return this.refs$.getValue()}constructor(e){this.refs$=new Rt(null),this.origin=e,this.id=this.origin.id,this.start=e.start?new _(e.start):null,this.end=e.end?new _(e.end):null}updateRefs(e){this.refs$.next(e)}},_e={dateFormat:{hour:"HH:mm",day:"M\u6708d\u65E5",week:"\u7B2Cw\u5468",month:"M\u6708",quarter:"QQQ",year:"yyyy\u5E74",yearMonth:"yyyy\u5E74MM\u6708",yearQuarter:"yyyy\u5E74QQQ"},linkOptions:{dependencyTypes:[B.fs],showArrow:!1,lineType:be.curve}},xe=new Zt("GANTT_GLOBAL_CONFIG"),Wt=18,jt=36,Ms={min:new _().addYears(-1).startOfYear(),max:new _().addYears(1).endOfYear(),dateFormat:_e.dateFormat,datePrecisionUnit:"day",dragPreviewDateFormat:"MM-dd"},ut=class{get start(){return this.start$.getValue()}get end(){return this.end$.getValue()}constructor(e,r,t){this.showTimeline=!0,this.options=Object.assign({},Ms,t);let i=e.isCustom?this.viewStartOf(e.date):this.viewStartOf(e.date.value<this.options.start.value?e.date:this.options.start),a=r.isCustom?this.viewEndOf(r.date):this.viewEndOf(r.date.value>this.options.end.value?r.date:this.options.end);this.start$=new Rt(i),this.end$=new Rt(a),this.initialize()}startOf(e){return this.viewStartOf(e)}endOf(e){return this.viewEndOf(e)}startOfPrecision(e){switch(this.options.datePrecisionUnit){case"minute":return e.startOfMinute();case"hour":return e.startOfHour();default:return e.startOfDay()}}endOfPrecision(e){switch(this.options.datePrecisionUnit){case"minute":return e.endOfMinute();case"hour":return e.endOfHour();default:return e.endOfDay()}}differenceByPrecisionUnit(e,r){switch(this.options.datePrecisionUnit){case"minute":return ge(e.value,r.value);case"hour":return Ci(e.value,r.value);default:return at(e.value,r.value)}}getDateIntervalWidth(e,r){let t=0,i=Ue(r.value,e.value);for(let a=0;a<Math.abs(i);a++)t+=this.getDayOccupancyWidth(e.addDays(a));return t=i>=0?t:-t,Number(t.toFixed(3))}initialize(){this.primaryDatePoints=this.getPrimaryDatePoints(),this.secondaryDatePoints=this.getSecondaryDatePoints(),this.width=this.getWidth(),this.cellWidth=this.getCellWidth(),this.primaryWidth=this.getPrimaryWidth()}addStartDate(){let e=this.viewStartOf(this.start.add(this.options.addAmount*-1,this.options.addUnit));if(e.value>=this.options.min.value){let r=this.start;return this.start$.next(e),this.initialize(),{start:this.start,end:r}}return null}addEndDate(){let e=this.viewEndOf(this.end.add(this.options.addAmount,this.options.addUnit));if(e.value<=this.options.max.value){let r=this.end;return this.end$.next(e),this.initialize(),{start:r,end:this.end}}return null}updateDate(e,r){e=this.viewStartOf(e),r=this.viewEndOf(r),e.value<this.start.value&&this.start$.next(e),r.value>this.end.value&&this.end$.next(r),this.initialize()}getWidth(){return this.getCellWidth()*this.secondaryDatePoints.length}getCellWidth(){return this.options.cellWidth}getTodayXPoint(){let e=new _().startOfDay();return e.value>this.start.value&&e.value<this.end.value?this.getXPointByDate(e)+this.getDayOccupancyWidth(e)/2:null}getXPointByDate(e){return this.getDateIntervalWidth(this.start,e)}getDateByXPoint(e){let r=Math.max(Math.floor(e/this.getCellWidth()),0),t=this.secondaryDatePoints[Math.min(this.secondaryDatePoints.length-1,r)],i=this.getDayOccupancyWidth(t?.start);if(i===this.getCellWidth())return t?.start;{let a=Math.floor(e%this.getCellWidth()/i);return t?.start.addDays(a)}}getDateRangeWidth(e,r){return this.getDateIntervalWidth(this.startOfPrecision(e),this.endOfPrecision(r).addSeconds(1))}getMinRangeWidthByPrecisionUnit(e){switch(this.options.datePrecisionUnit){case"minute":return this.getDayOccupancyWidth(e)/24/60;case"hour":return this.getDayOccupancyWidth(e)/24;default:return this.getDayOccupancyWidth(e)}}},Ps={start:new _().startOfQuarter().addQuarters(-1),end:new _().endOfQuarter().addQuarters(2),cellWidth:280,addAmount:1,addUnit:"quarter"},yn=class extends ut{constructor(e,r,t){super(e,r,Object.assign({},Ps,t)),this.viewType=I.month}viewStartOf(e){return e.startOfQuarter()}viewEndOf(e){return e.endOfQuarter()}getPrimaryWidth(){return this.getCellWidth()*3}getDayOccupancyWidth(e){return this.cellWidth/e.getDaysInMonth()}getPrimaryDatePoints(){let e=de(this.end.addSeconds(1).value,this.start.value),r=[];for(let t=0;t<e;t++){let i=this.start.addQuarters(t),a=new z(i,i.format(this.options.dateFormat.yearQuarter),this.getCellWidth()*3/2+t*(this.getCellWidth()*3),Wt);r.push(a)}return r}getSecondaryDatePoints(){let e=je({start:this.start.value,end:this.end.value}),r=[];for(let t=0;t<e.length;t++){let i=new _(e[t]),a=new z(i,i.format(this.options.dateFormat.month),t*this.getCellWidth()+this.getCellWidth()/2,jt);r.push(a)}return r}},Ws={start:new _().addYears(-1).startOfYear(),end:new _().addYears(1).endOfYear(),min:new _().addYears(-2).startOfYear(),max:new _().addYears(2).endOfYear(),cellWidth:500,addAmount:1,addUnit:"year"},vn=class extends ut{constructor(e,r,t){super(e,r,Object.assign({},Ws,t)),this.viewType=I.quarter}viewStartOf(e){return e.startOfYear()}viewEndOf(e){return e.endOfYear()}getPrimaryWidth(){return this.getCellWidth()*4}getDayOccupancyWidth(e){return this.cellWidth/e.getDaysInQuarter()}getPrimaryDatePoints(){let e=Ze({start:this.start.value,end:this.end.value}),r=[];for(let t=0;t<e.length;t++){let i=new _(e[t]),a=new z(i,`${i.format(this.options.dateFormat.year)}`,this.getCellWidth()*4/2+t*(this.getCellWidth()*4),Wt);r.push(a)}return r}getSecondaryDatePoints(){let e=de(this.end.value,this.start.value),r=[];for(let t=0;t<=e;t++){let i=this.start.addQuarters(t),a=new z(i,i.format(this.options.dateFormat.quarter),t*this.getCellWidth()+this.getCellWidth()/2,jt);r.push(a)}return r}},Rs={cellWidth:35,start:new _().startOfYear().startOfWeek(),end:new _().endOfYear().endOfWeek(),addAmount:1,addUnit:"month"},bn=class extends ut{constructor(e,r,t){super(e,r,Object.assign({},Rs,t)),this.showWeekBackdrop=!0,this.showTimeline=!1,this.viewType=I.day}viewStartOf(e){return e.startOfWeek()}viewEndOf(e){return e.endOfWeek()}getPrimaryWidth(){return this.getCellWidth()*7}getDayOccupancyWidth(){return this.cellWidth}getPrimaryDatePoints(){let e=Nt({start:this.start.value,end:this.end.addSeconds(1).value}),r=[];for(let t=0;t<e.length;t++){let i=new _(e[t]),a=i.getDaysInMonth()-i.getDate()>=3?0:1,s=new z(i,i.addWeeks(a).format(this.options.dateFormat.yearMonth),this.getCellWidth()*7/2+t*(this.getCellWidth()*7),Wt);r.push(s)}return r}getSecondaryDatePoints(){let e=pe({start:this.start.value,end:this.end.value}),r=[];for(let t=0;t<e.length;t++){let i=new _(e[t]),a=new z(i,i.getDate().toString(),t*this.getCellWidth()+this.getCellWidth()/2,jt,{isWeekend:i.isWeekend(),isToday:i.isToday()});r.push(a)}return r}},$s={cellWidth:280,start:new _().startOfYear().startOfWeek(),end:new _().endOfYear().endOfWeek(),addAmount:1,addUnit:"month"},wn=class extends ut{constructor(e,r,t){super(e,r,Object.assign({},$s,t)),this.viewType=I.week}viewStartOf(e){return e.startOfWeek()}viewEndOf(e){return e.endOfWeek()}getPrimaryWidth(){return this.getCellWidth()}getDayOccupancyWidth(){return this.cellWidth/7}getPrimaryDatePoints(){let e=Nt({start:this.start.value,end:this.end.addSeconds(1).value}),r=[];for(let t=0;t<e.length;t++){let i=new _(e[t]),a=i.getDaysInMonth()-i.getDate()>=3?0:1,s=new z(i,i.addWeeks(a).format(this.options.dateFormat.year),this.getCellWidth()/2+t*this.getCellWidth(),Wt);r.push(s)}return r}getSecondaryDatePoints(){let e=Nt({start:this.start.value,end:this.end.addSeconds(1).value}),r=[];for(let t=0;t<e.length;t++){let i=new _(e[t]),a=new z(i,`${i.format(this.options.dateFormat.week)}`,t*this.getCellWidth()+this.getCellWidth()/2,jt);r.push(a)}return r}},Bs={cellWidth:480,start:new _().addYears(-2).startOfYear(),end:new _().addYears(2).endOfYear(),addAmount:1,addUnit:"year"},_n=class extends ut{constructor(e,r,t){super(e,r,Object.assign({},Bs,t)),this.viewType=I.year}viewStartOf(e){return e.startOfYear()}viewEndOf(e){return e.endOfYear()}getPrimaryWidth(){return this.getCellWidth()}getDayOccupancyWidth(e){return this.cellWidth/e.getDaysInYear()}getPrimaryDatePoints(){let e=Ze({start:this.start.value,end:this.end.value}),r=[];for(let t=0;t<e.length;t++){let i=new _(e[t]),a=new z(i,"",this.getCellWidth()/2+t*this.getCellWidth(),Wt);r.push(a)}return r}getSecondaryDatePoints(){let e=xi(this.end.value,this.start.value),r=[],t=27;for(let i=0;i<=e;i++){let a=this.start.addYears(i),s=new z(a,`${a.format(this.options.dateFormat.year)}`,i*this.getCellWidth()+this.getCellWidth()/2,t);r.push(s)}return r}},Fs={cellWidth:80,start:new _().startOfMonth(),end:new _().endOfMonth(),datePrecisionUnit:"minute",addAmount:1,addUnit:"week",dragPreviewDateFormat:"HH:mm"},xn=class extends ut{constructor(e,r,t){super(e,r,Object.assign({},Fs,t)),this.showWeekBackdrop=!0,this.showTimeline=!0,this.viewType=I.hour}viewStartOf(e){return e.startOfWeek()}viewEndOf(e){return e.endOfWeek()}getPrimaryWidth(){return this.getCellWidth()*24}getDayOccupancyWidth(){return this.cellWidth*60}getHourOccupancyWidth(){return this.getDayOccupancyWidth()/60}getPrimaryDatePoints(){let e=pe({start:this.start.value,end:this.end.value}),r=[];for(let t=0;t<e.length;t++){let i=this.start.addDays(t),a=new z(i,i.format(this.options.dateFormat.day),this.getCellWidth()*24/2+t*(this.getCellWidth()*24),Wt);r.push(a)}return r}getSecondaryDatePoints(){let e=Ae({start:this.start.value,end:this.end.value}),r=[];for(let t=0;t<e.length;t++){let i=new _(e[t]),a=new z(i,i.format(this.options.dateFormat.hour),t*this.getCellWidth()+this.getCellWidth()/2,jt,{isWeekend:i.isWeekend(),isToday:i.isToday()});r.push(a)}return r}getDateIntervalWidth(e,r){let t=0,i=ge(r.value,e.value);for(let a=0;a<i;a++)t+=this.getHourOccupancyWidth()/60;return t=i>=0?t:-t,Number(t.toFixed(3))}getDateByXPoint(e){let r=this.getHourOccupancyWidth(),t=Math.max(Math.floor(e/r),0),i=this.secondaryDatePoints[Math.min(this.secondaryDatePoints.length-1,t)],a=r/60,s=Math.floor(e%r/a);return i?.start.addMinutes(s)}},Ls={[I.hour]:xn,[I.day]:bn,[I.week]:wn,[I.month]:yn,[I.quarter]:vn,[I.year]:_n};function Hs(n,e,r,t){return new Ls[n](e,r,t)}var Ns={lineHeight:44,barHeight:22},Dn=44;var Vs="#6698ff",Us=17,Gs=24,Ys=35,As=4;function In(n){return typeof n=="number"}function Gt(n,e=1){return/^#/g.test(n)?`rgba(${parseInt(n.slice(1,3),16)},${parseInt(n.slice(3,5),16)},${parseInt(n.slice(5,7),16)},${e})`:n}function ve(n,e){let r={},t=[];return(n||[]).forEach(i=>{let a=i[e];r[a]||(r[a]=i,t.push(i))}),t}function Cn(n){return n.reduce((e,r)=>e.concat(Array.isArray(r)?Cn(r):r),[])}function ot(n){let e=[];return(n||[]).forEach(r=>{e.push(r),r.expanded&&r.children&&e.push(...ot(r.children))}),e}function Zi(n){let e=[];return(n||[]).forEach(r=>{e.push(r),r.children&&e.push(...Zi(r.children))}),e}function En(n,e){let r={};return n.forEach(t=>{let i=t[e];r[i]=t}),r}var Qs=(()=>{let e=class e{set linkOptions(t){this._linkOptions=t}get linkOptions(){return Object.assign({},_e.linkOptions,this.config.linkOptions,this._linkOptions)}set selectable(t){this._selectable=Re(t),this._selectable?this.selectionModel=this.initSelectionModel():this.selectionModel?.clear()}get selectable(){return this._selectable}set multiple(t){this._multiple=Re(t),this.selectable&&(this.selectionModel=this.initSelectionModel())}get multiple(){return this._multiple}get element(){return this.elementRef.nativeElement}constructor(t,i,a,s){this.elementRef=t,this.cdr=i,this.ngZone=a,this.config=s,this.originItems=[],this.originGroups=[],this.originBaselineItems=[],this.viewType=I.month,this.showTodayLine=!0,this.showToolbar=!1,this.toolbarOptions={viewTypes:[I.day,I.month,I.year]},this.viewOptions={},this.loadOnScroll=new D,this.dragStarted=new D,this.dragMoved=new D,this.dragEnded=new D,this.barClick=new D,this.viewChange=new D,this.expandChange=new D,this.computeAllRefs=!0,this.linkDragEnded=new D,this.items=[],this.groups=[],this.baselineItems=[],this.baselineItemsMap={},this.firstChange=!0,this.unsubscribe$=new Y,this._selectable=!1,this._multiple=!1,this.ganttClass=!0}createView(){let t=this.getViewDate();this.view=Hs(this.viewType,t.start,t.end,this.viewOptions)}setupGroups(){let t=this.groups.filter(i=>i.expanded===!1).map(i=>i.id);this.groupsMap={},this.groups=[],this.originGroups.forEach(i=>{let a=new mn(i);a.expanded=!t.includes(a.id),this.groupsMap[a.id]=a,this.groups.push(a)})}setupItems(){this.originItems=ve(this.originItems,"id"),this.items=[],this.groups.length>0?this.originItems.forEach(t=>{let i=this.groupsMap[t.group_id];if(i){let a=new we(t,0,this.view);i.items.push(a)}}):this.originItems.forEach(t=>{let i=new we(t,0,this.view);this.items.push(i)})}setupBaselineItems(){this.originBaselineItems=ve(this.originBaselineItems,"id"),this.baselineItems=[],this.originBaselineItems.forEach(t=>{let i=new fn(t);this.baselineItems.push(i)}),this.baselineItemsMap=En(this.baselineItems,"id")}setupExpandedState(){this.originItems=ve(this.originItems,"id");let t=[],i=Zi(this.originItems);this.items.length>0?t=ot(this.items):t=Cn(this.groups.map(a=>ot(a.items))),t.forEach(a=>{if(a.origin.expanded){let s=i.find(o=>o.id===a.id);s&&s.expanded===void 0&&(s.expanded=!0)}})}getViewDate(){let t=this.start,i=this.end;return(!this.start||!this.end)&&this.originItems.forEach(a=>{a.start&&!this.start&&(t=t?Math.min(t,a.start):a.start),a.end&&!this.end&&(i=i?Math.max(i,a.end):a.end)}),{start:{date:new _(t),isCustom:!!this.start},end:{date:new _(i),isCustom:!!this.end}}}computeRefs(){if(this.computeAllRefs){this.groups.forEach(i=>{let a=ot(i.items);this.computeItemsRefs(...a)});let t=ot(this.items);this.computeItemsRefs(...t)}}initSelectionModel(){return new ii(this.multiple,[])}expandGroups(t){this.groups.forEach(i=>{i.setExpand(t)}),this.expandChange.next(null),this.cdr.detectChanges()}ngOnInit(){this.styles=Object.assign({},Ns,this.styles),this.viewOptions.dateFormat=Object.assign({},_e.dateFormat,this.config.dateFormat,this.viewOptions.dateFormat),this.createView(),this.setupGroups(),this.setupItems(),this.computeRefs(),this.setupBaselineItems(),this.computeItemsRefs(...this.baselineItems),this.initSelectionModel(),this.firstChange=!1;let t=this.ngZone.isStable?Dt(Promise.resolve()):this.ngZone.onStable.pipe(tt(1));this.ngZone.runOutsideAngular(()=>{t.pipe(b(this.unsubscribe$)).subscribe(()=>{this.element.style.opacity="1";let i=this.disabledLoadOnScroll;this.dragContainer.dragStarted.pipe(b(this.unsubscribe$)).subscribe(a=>{this.disabledLoadOnScroll=!0,this.dragStarted.emit(a)}),this.dragContainer.dragMoved.pipe(b(this.unsubscribe$)).subscribe(a=>{this.dragMoved.emit(a)}),this.dragContainer.dragEnded.pipe(b(this.unsubscribe$)).subscribe(a=>{this.disabledLoadOnScroll=i,this.dragEnded.emit(a)})})}),this.view.start$.pipe(Xt(1),b(this.unsubscribe$)).subscribe(()=>{this.computeRefs()})}ngOnChanges(t){this.firstChange||(t.viewType&&t.viewType.currentValue&&t.viewType.currentValue!==t.viewType.previousValue&&this.changeView(t.viewType.currentValue),t.viewOptions&&this.changeView(this.viewType),(t.originItems||t.originGroups)&&(this.setupExpandedState(),this.setupGroups(),this.setupItems(),this.computeRefs()),t.originBaselineItems&&(this.setupBaselineItems(),this.computeItemsRefs(...this.baselineItems)))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}computeItemsRefs(...t){t.forEach(i=>{i.updateRefs({width:i.start&&i.end?this.view.getDateRangeWidth(i.start,i.end):0,x:i.start?this.view.getXPointByDate(i.start):0,y:(this.styles.lineHeight-this.styles.barHeight)/2-1})})}trackBy(t,i){return i.id||t}detectChanges(){this.cdr.detectChanges()}expandGroup(t){t.setExpand(!t.expanded),this.expandChange.emit(t),this.cdr.detectChanges()}expandAll(){this.expandGroups(!0)}collapseAll(){this.expandGroups(!1)}getGanttItem(t){return this.getGanttItems([t])[0]||null}getGanttItems(t){let i=[];return this.items.length>0?i=ot(this.items):i=Cn(this.groups.map(a=>ot(a.items))),i.filter(a=>t.includes(a.id))}isSelected(t){return!this.selectable||!this.selectionModel.hasValue()?!1:this.selectionModel.isSelected(t)}changeView(t){this.viewType=t,this.createView(),this.setupGroups(),this.setupItems(),this.computeRefs(),this.setupBaselineItems(),this.computeItemsRefs(...this.baselineItems),this.viewChange.emit(this.view)}rerenderView(){this.changeView(this.viewType)}};e.\u0275fac=function(i){return new(i||e)(v(N),v(St),v(et),v(xe))},e.\u0275dir=Me({type:e,contentQueries:function(i,a,s){if(i&1&&(P(s,Ar,7),P(s,Qr,7),P(s,jr,7),P(s,qr,7),P(s,zr,7),P(s,Xr,7),P(s,Zr,7)),i&2){let o;k(o=S())&&(a.barTemplate=o.first),k(o=S())&&(a.rangeTemplate=o.first),k(o=S())&&(a.itemTemplate=o.first),k(o=S())&&(a.baselineTemplate=o.first),k(o=S())&&(a.groupTemplate=o.first),k(o=S())&&(a.groupHeaderTemplate=o.first),k(o=S())&&(a.toolbarTemplate=o.first)}},hostVars:2,hostBindings:function(i,a){i&2&&L("gantt",a.ganttClass)},inputs:{originItems:[0,"items","originItems"],originGroups:[0,"groups","originGroups"],originBaselineItems:[0,"baselineItems","originBaselineItems"],viewType:"viewType",start:"start",end:"end",showTodayLine:"showTodayLine",draggable:"draggable",styles:"styles",showToolbar:"showToolbar",toolbarOptions:"toolbarOptions",viewOptions:"viewOptions",linkOptions:"linkOptions",disabledLoadOnScroll:"disabledLoadOnScroll",selectable:"selectable",multiple:"multiple"},outputs:{loadOnScroll:"loadOnScroll",dragStarted:"dragStarted",dragMoved:"dragMoved",dragEnded:"dragEnded",barClick:"barClick",viewChange:"viewChange",expandChange:"expandChange"},features:[kt]});let n=e;return n})(),A=new Zt("GANTT_UPPER_TOKEN");function js(n,e){return e.includes(B.ss)&&n.from.pos===K.start&&n.to.pos===K.start?B.ss:e.includes(B.ff)&&n.from.pos===K.finish&&n.to.pos===K.finish?B.ff:e.includes(B.sf)&&n.from.pos===K.start&&n.to.pos===K.finish?B.sf:B.fs}var K=function(n){return n.start="start",n.finish="finish",n}(K||{}),Qt=(()=>{let e=class e{constructor(t){this.ganttUpper=t,this.dragStarted=new D,this.dragMoved=new D,this.dragEnded=new D,this.linkDragStarted=new D,this.linkDragEntered=new D,this.linkDragEnded=new D,this.linkDragPath={from:null,to:null}}emitLinkDragStarted(t){this.linkDraggingId=t.item.id,this.linkDragPath.from=t,this.linkDragStarted.emit({source:t.item.origin,target:null})}emitLinkDragEntered(t){this.linkDragPath.to=t,this.linkDragEntered.emit({source:this.linkDragPath.from.item.origin,target:t.item.origin})}emitLinkDragLeaved(){this.linkDragPath.to=null}emitLinkDragEnded(t){if(t){this.linkDragPath.to=t;let i=js(this.linkDragPath,this.ganttUpper.linkOptions?.dependencyTypes);this.linkDragPath.from.item.addLink({link:this.linkDragPath.to.item.id,type:i}),this.linkDragEnded.emit({source:this.linkDragPath.from.item.origin,target:this.linkDragPath.to.item.origin,type:i})}this.linkDraggingId=null,this.linkDragPath={from:null,to:null}}};e.\u0275fac=function(i){return new(i||e)(it(A))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let n=e;return n})(),Ji=.05;function qs(n,e){let{left:r,right:t,width:i}=n,a=i*Ji;return e>=r-a&&e<=r+a?1:e>=t-a&&e<=t+a?2:0}function zs(n,e,r,t){let{top:i,right:a,bottom:s,left:o,width:l,height:g}=n,m=l*e,w=g*e;return t>i-w&&t<s+w&&r>o-m&&r<a+m}function Xs(n,e,r){let t=4,i=4,{left:a,right:s,width:o}=n,l=o*Ji;return r===1&&(t=Math.ceil((l-(e>a?e-a:0))/(l/i))),r===2&&(t=Math.ceil((l-(s>e?s-e:0))/(l/i))),t}var Yt;function Zs(){if(Yt==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Yt=!0}))}finally{Yt=Yt||!1}return Yt}function Js(n){return Zs()?n:!!n.capture}var ht=Js({passive:!0}),un=50,Pt=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(Pt||{}),kn=(()=>{let e=class e{constructor(t,i){this.ngZone=t,this.platformId=i,this.unsubscribe$=new Y}monitorScrollChange(){let t=[Q(this.mainContainer,"scroll",ht),Q(this.sideContainer,"scroll",ht)];this.mainFooter&&t.push(Q(this.mainFooter,"scroll",ht)),this.mainScrollbar&&t.push(Q(this.mainScrollbar,"scroll",ht)),this.ngZone.runOutsideAngular(()=>pt(...t).pipe(b(this.unsubscribe$)).subscribe(i=>{this.syncScroll(i)}))}syncScroll(t){let i=t.currentTarget,a=i.classList;a.contains("gantt-side-container")?(this.sideContainer.scrollTop=i.scrollTop,this.mainContainer.scrollTop=i.scrollTop):(this.mainContainer.scrollLeft=i.scrollLeft,this.calendarHeader.scrollLeft=i.scrollLeft,this.calendarOverlay.scrollLeft=i.scrollLeft,this.mainScrollbar&&(this.mainScrollbar.scrollLeft=i.scrollLeft),this.mainFooter&&(this.mainFooter.scrollLeft=i.scrollLeft),a.contains("gantt-main-container")&&(this.sideContainer.scrollTop=i.scrollTop,this.mainContainer.scrollTop=i.scrollTop))}disableBrowserWheelEvent(){let t=this.mainContainer;this.ngZone.runOutsideAngular(()=>Q(t,"wheel").pipe(b(this.unsubscribe$)).subscribe(i=>{let a=i.deltaX;a&&(t.scrollLeft+t.offsetWidth===t.scrollWidth&&a>0||t.scrollLeft===0&&a<0)&&i.preventDefault()}))}initialize(t){this.root=t.nativeElement,this.side=this.root.getElementsByClassName("gantt-side")[0],this.container=this.root.getElementsByClassName("gantt-container")[0],this.sideContainer=this.root.getElementsByClassName("gantt-side-container")[0],this.mainContainer=this.root.getElementsByClassName("gantt-main-container")[0],this.mainScrollbar=this.root.getElementsByClassName("gantt-main-scrollbar")[0],this.mainFooter=this.root.getElementsByClassName("gantt-container-footer")[0],this.verticalScrollContainer=this.root.getElementsByClassName("gantt-scroll-container")[0];let i=this.mainContainer.getElementsByClassName("gantt-main-items")[0],a=this.mainContainer.getElementsByClassName("gantt-main-groups")[0];this.mainItems=i||a,this.calendarHeader=this.root.getElementsByClassName("gantt-calendar-header")[0],this.calendarOverlay=this.root.getElementsByClassName("gantt-calendar-grid")[0],this.monitorScrollChange(),this.disableBrowserWheelEvent()}getViewerScroll(t){let i=[Q(this.mainContainer,"scroll",t)];return this.mainFooter&&i.push(Q(this.mainFooter,"scroll",t)),this.mainScrollbar&&i.push(Q(this.mainScrollbar,"scroll",t)),new Te(a=>this.ngZone.runOutsideAngular(()=>pt(...i).pipe(Ie(()=>this.mainContainer.scrollLeft),Nn(),Ie(([s,o])=>{let l={target:this.mainContainer,direction:Pt.NONE};return o-s<0&&this.mainContainer.scrollLeft<un&&this.mainContainer.scrollLeft>0&&(l.direction=Pt.LEFT),o-s>0&&this.mainContainer.scrollWidth-this.mainContainer.clientWidth-this.mainContainer.scrollLeft<un&&(l.direction=Pt.RIGHT),l})).subscribe(a)))}getResize(){return ni(this.platformId)?Oe:Q(window,"resize").pipe(zt(150))}scrollMainContainer(t){if(In(t)){let i=t-this.mainContainer.clientWidth/2;this.mainContainer.scrollLeft=i>un?i:0,this.calendarHeader.scrollLeft=this.mainContainer.scrollLeft,this.calendarOverlay.scrollLeft=this.mainContainer.scrollLeft,this.mainScrollbar&&(this.mainScrollbar.scrollLeft=this.mainContainer.scrollLeft),this.mainFooter&&(this.mainFooter.scrollLeft=this.mainContainer.scrollLeft)}}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}};e.\u0275fac=function(i){return new(i||e)(it(et),it(An))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let n=e;return n})(),Yi=.05,Ai=10,Ks=2,gn="gantt-bar-active",to="gantt-bar-drop-active",eo="gantt-bar-single-drop-active";function Qi(n,e){let r=document.createElementNS("http://www.w3.org/2000/svg",n);return r.classList.add(e),r}var ji=(()=>{let e=class e{get dragDisabled(){return!this.item.draggable||!this.ganttUpper.draggable}get linkDragDisabled(){return!this.item.linkable||!this.ganttUpper.linkable}get barHandleDragMoveAndScrollDistance(){return this.barHandleDragMoveDistance+this.dragScrollDistance}get autoScrollStep(){return Math.pow(Ks,this.autoScrollSpeedRates)}constructor(t,i,a,s){this.dragDrop=t,this.dom=i,this.dragContainer=a,this._ngZone=s,this.dragRefs=[],this.destroy$=new Y,this.stopScrollTimers$=new Y,this.barDragMoveDistance=0,this.barHandleDragMoveDistance=0,this.dragScrolling=!1,this.dragScrollDistance=0,this._horizontalScrollDirection=0,this.autoScrollSpeedRates=1,this.startScrollInterval=()=>{this.stopScrolling(),Bn(0,Wn).pipe(b(this.stopScrollTimers$)).subscribe(()=>{let o=this.dom.mainContainer,l=this.autoScrollStep;this._horizontalScrollDirection===1?o.scrollBy(-l,0):this._horizontalScrollDirection===2&&o.scrollBy(l,0)})}}createDragRef(t){return this.dragDrop.createDrag(t)}createDragScrollEvent(t){return Q(this.dom.mainContainer,"scroll",ht).pipe(b(t.ended))}createMouseEvents(){let t=this.ganttUpper.config.linkOptions?.dependencyTypes?.length===1&&this.ganttUpper.config.linkOptions?.dependencyTypes[0]===B.fs?eo:to;Q(this.barElement,"mouseenter",ht).pipe(b(this.destroy$)).subscribe(()=>{this.dragContainer.linkDraggingId&&this.dragContainer.linkDraggingId!==this.item.id?this.item.linkable&&(this.barElement.classList.add(t),this.dragContainer.emitLinkDragEntered({item:this.item,element:this.barElement})):this.barElement.classList.add(gn)}),Q(this.barElement,"mouseleave",ht).pipe(b(this.destroy$)).subscribe(()=>{this.dragContainer.linkDraggingId?this.dragContainer.emitLinkDragLeaved():this.barElement.classList.remove(gn),this.barElement.classList.remove(t)})}createBarDrag(){let t=this.createDragRef(this.barElement);return t.lockAxis="x",t.withBoundaryElement(this.dom.mainItems),t.started.subscribe(()=>{this.setDraggingStyles(),this.containerScrollLeft=this.dom.mainContainer.scrollLeft,this.createDragScrollEvent(t).subscribe(()=>{if(t.isDragging()){let i=this.dom.mainContainer.scrollLeft-this.containerScrollLeft;this.dragScrollDistance=i,t._boundaryRect=this.dom.mainItems.getBoundingClientRect(),this.barDragMove()}}),this.dragContainer.dragStarted.emit({item:this.item.origin})}),t.moved.subscribe(i=>{this.startScrollingIfNecessary(i.pointerPosition.x,i.pointerPosition.y),this.barDragMoveDistance=i.distance.x,this.dragScrolling||this.barDragMove()}),t.ended.subscribe(i=>{this.clearDraggingStyles(),this.closeDragBackdrop(),i.source.reset(),this.stopScrolling(),this.dragScrolling=!1,this.dragScrollDistance=0,this.barDragMoveDistance=0,this.item.updateRefs({width:this.ganttUpper.view.getDateRangeWidth(this.item.start,this.item.end),x:this.ganttUpper.view.getXPointByDate(this.item.start),y:(this.ganttUpper.styles.lineHeight-this.ganttUpper.styles.barHeight)/2-1}),this.dragContainer.dragEnded.emit({item:this.item.origin})}),this.barDragRef=t,t}createBarHandleDrags(){let t=[];return this.barElement.querySelectorAll(".drag-handles .handle").forEach((a,s)=>{let o=s===0,l=this.createDragRef(a);l.lockAxis="x",l.withBoundaryElement(this.dom.mainItems),l.started.subscribe(()=>{this.setDraggingStyles(),this.containerScrollLeft=this.dom.mainContainer.scrollLeft,this.createDragScrollEvent(l).subscribe(()=>{if(l.isDragging()){let g=this.dom.mainContainer.scrollLeft-this.containerScrollLeft;this.dragScrollDistance=g,l._boundaryRect=this.dom.mainItems.getBoundingClientRect(),this.dragScrolling&&this.isStartGreaterThanEndWhenBarHandleDragMove(o)&&(this.stopScrolling(),this.dragScrolling=!1),o?this.barBeforeHandleDragMove():this.barAfterHandleDragMove()}}),this.dragContainer.dragStarted.emit({item:this.item.origin})}),l.moved.subscribe(g=>{this.barHandleDragMoveRecordDiffs&&this.barHandleDragMoveRecordDiffs>0&&this.startScrollingIfNecessary(g.pointerPosition.x,g.pointerPosition.y),this.barHandleDragMoveDistance=g.distance.x,this.dragScrolling||(o?this.barBeforeHandleDragMove():this.barAfterHandleDragMove())}),l.ended.subscribe(g=>{this.clearDraggingStyles(),this.closeDragBackdrop(),g.source.reset(),this.stopScrolling(),this.dragScrolling=!1,this.dragScrollDistance=0,this.barHandleDragMoveDistance=0,this.item.updateRefs({width:this.ganttUpper.view.getDateRangeWidth(this.item.start,this.item.end),x:this.ganttUpper.view.getXPointByDate(this.item.start),y:(this.ganttUpper.styles.lineHeight-this.ganttUpper.styles.barHeight)/2-1}),this.dragContainer.dragEnded.emit({item:this.item.origin})}),t.push(l)}),t}createLinkHandleDrags(){let t=[];return this.barElement.querySelectorAll(".link-handles .handle").forEach((a,s)=>{let o=s===0,l=this.dragDrop.createDrag(a);l.withBoundaryElement(this.dom.root),l.beforeStarted.subscribe(()=>{a.style.pointerEvents="none",this.barDragRef&&(this.barDragRef.disabled=!0),this.createLinkDraggingLine(),this.dragContainer.emitLinkDragStarted({element:this.barElement,item:this.item,pos:o?K.start:K.finish})}),l.moved.subscribe(()=>{let g=this.calcLinkLinePositions(a,o);this.linkDraggingLine.setAttribute("x1",g.x1.toString()),this.linkDraggingLine.setAttribute("y1",g.y1.toString()),this.linkDraggingLine.setAttribute("x2",g.x2.toString()),this.linkDraggingLine.setAttribute("y2",g.y2.toString())}),l.ended.subscribe(g=>{if(a.style.pointerEvents="",this.barDragRef&&(this.barDragRef.disabled=!1),this.dragContainer.linkDragPath.to){let m=g.source.getRootElement().getBoundingClientRect().x-this.dragContainer.linkDragPath.to.element.getBoundingClientRect().x;this.dragContainer.emitLinkDragEnded(Se(ke({},this.dragContainer.linkDragPath.to),{pos:m<this.dragContainer.linkDragPath.to.item.refs.width/2?K.start:K.finish}))}else this.dragContainer.emitLinkDragEnded();g.source.reset(),this.barElement.classList.remove(gn),this.destroyLinkDraggingLine()}),t.push(l)}),t}openDragBackdrop(t,i,a){let s=this.dom.root.querySelector(".gantt-drag-backdrop"),o=this.dom.root.querySelector(".gantt-drag-mask"),l=this.dom.root.getBoundingClientRect(),g=t.getBoundingClientRect(),m=g.left-l.left-(this.dom.side.clientWidth+1);this.dragScrolling&&(this._horizontalScrollDirection===1?m+=this.autoScrollStep:this._horizontalScrollDirection===2&&(m-=this.autoScrollStep));let w=g.right-g.left;o.style.left=m+"px",o.style.width=w+"px",o.style.display="block",s.style.display="block",o.querySelector(".start").innerHTML=i.format(this.ganttUpper.view.options.dragPreviewDateFormat),o.querySelector(".end").innerHTML=a.format(this.ganttUpper.view.options.dragPreviewDateFormat)}closeDragBackdrop(){let t=this.dom.root.querySelector(".gantt-drag-backdrop"),i=this.dom.root.querySelector(".gantt-drag-mask");i.style.display="none",t.style.display="none"}setDraggingStyles(){this.barElement.classList.add("gantt-bar-draggable-drag")}clearDraggingStyles(){this.barElement.classList.remove("gantt-bar-draggable-drag")}barDragMove(){let t=this.item.refs.x+this.barDragMoveDistance+this.dragScrollDistance,i=this.ganttUpper.view.getDateByXPoint(t),a=this.ganttUpper.view.getXPointByDate(i),s=this.ganttUpper.view.differenceByPrecisionUnit(this.item.end,this.item.start),o=i,l=i.add(s,this.ganttUpper.view?.options?.datePrecisionUnit);if(this.ganttUpper.view.viewType===I.day){let g=this.ganttUpper.view.getDayOccupancyWidth(i);t>a+g/2&&(o=o.addDays(1),l=l.addDays(1))}if(this.dragScrolling){let g=t-this.barDragMoveDistance;this.barElement.style.left=g+"px"}this.openDragBackdrop(this.barElement,this.ganttUpper.view.getDateByXPoint(t),this.ganttUpper.view.getDateByXPoint(t+this.item.refs.width)),this.isStartOrEndInsideView(o,l)&&(this.updateItemDate(o,l),this.dragContainer.dragMoved.emit({item:this.item.origin}))}barBeforeHandleDragMove(){let{x:t,start:i,minRangeWidthWidth:a}=this.startOfBarHandle(),s=this.item.refs.width+this.barHandleDragMoveAndScrollDistance*-1,o=this.ganttUpper.view.differenceByPrecisionUnit(this.item.end,i);if(s>Ai&&o>0){if(this.barElement.style.width=s+"px",this.barElement.style.left=t+"px",this.openDragBackdrop(this.barElement,i,this.item.end),!this.isStartOrEndInsideView(i,this.item.end))return;this.updateItemDate(i,this.item.end)}else{if(this.barHandleDragMoveRecordDiffs>0&&o<=0){this.barElement.style.width=a+"px";let l=this.ganttUpper.view.getXPointByDate(this.item.end);this.barElement.style.left=l+"px"}this.openDragBackdrop(this.barElement,this.item.end,this.item.end),this.updateItemDate(this.item.end,this.item.end)}this.barHandleDragMoveRecordDiffs=o,this.dragContainer.dragMoved.emit({item:this.item.origin})}barAfterHandleDragMove(){let{width:t,end:i}=this.endOfBarHandle(),a=this.ganttUpper.view.differenceByPrecisionUnit(i,this.item.start);if(t>Ai&&a>0){if(this.barElement.style.width=t+"px",this.openDragBackdrop(this.barElement,this.item.start,i),!this.isStartOrEndInsideView(this.item.start,i))return;this.updateItemDate(this.item.start,i)}else{if(this.barHandleDragMoveRecordDiffs>0&&a<=0){let s=this.ganttUpper.view.getMinRangeWidthByPrecisionUnit(this.item.start);this.barElement.style.width=s+"px"}this.openDragBackdrop(this.barElement,this.item.start,this.item.start),this.updateItemDate(this.item.start,this.item.start)}this.barHandleDragMoveRecordDiffs=a,this.dragContainer.dragMoved.emit({item:this.item.origin})}calcLinkLinePositions(t,i){let a=this.dom.root.getBoundingClientRect(),s=t.getBoundingClientRect(),o=t.parentElement.parentElement.getBoundingClientRect();return{x1:o.left+(i?0:o.width)-a.left,y1:o.top+o.height/2-a.top,x2:s.left-a.left+s.width/2,y2:s.top-a.top+s.height/2}}createLinkDraggingLine(){if(!this.linkDraggingLine){let t=Qi("svg","gantt-link-drag-container"),i=Qi("line","link-dragging-line");i.style.pointerEvents="none",t.appendChild(i),this.dom.root.appendChild(t),this.linkDraggingLine=i}}destroyLinkDraggingLine(){this.linkDraggingLine&&(this.linkDraggingLine.parentElement.remove(),this.linkDraggingLine=null)}startScrollingIfNecessary(t,i){let a=this.dom.mainContainer.getBoundingClientRect(),s=this.dom.mainContainer.scrollLeft;if(zs(a,Yi,t,i)){let o=qs(a,t);o===1&&s>0||o===2&&s<this.ganttUpper.view.width-a.width?(this._horizontalScrollDirection=o,this.autoScrollSpeedRates=Xs(a,t,o),this.dragScrolling=!0,this._ngZone.runOutsideAngular(this.startScrollInterval)):(this.dragScrolling=!1,this.stopScrolling())}}isStartGreaterThanEndWhenBarHandleDragMove(t){let i,a,s=this.dom.mainContainer.scrollLeft,o=this.dom.mainContainer.clientWidth,l=o*Yi;if(t){let{start:g,minRangeWidthWidth:m}=this.startOfBarHandle(),w=this.ganttUpper.view.getXPointByDate(this.item.end);i=g.value>this.item.end.value,a=w+m+l<=s+o}else{let{end:g}=this.endOfBarHandle(),m=this.ganttUpper.view.getXPointByDate(this.item.start);i=g.value<this.item.start.value,a=s+l<=m}return!!(i&&a)}startOfBarHandle(){let t=this.item.refs.x+this.barHandleDragMoveAndScrollDistance;return{x:t,start:this.ganttUpper.view.getDateByXPoint(t),minRangeWidthWidth:this.ganttUpper.view.getMinRangeWidthByPrecisionUnit(this.item.end)}}endOfBarHandle(){let t=this.item.refs.width+this.barHandleDragMoveAndScrollDistance;return{width:t,end:this.ganttUpper.view.getDateByXPoint(this.item.refs.x+t)}}stopScrolling(){this.stopScrollTimers$.next()}isStartOrEndInsideView(t,i){let a=t.getUnixTime(),s=i.getUnixTime(),o=this.ganttUpper.view.start.getUnixTime(),l=this.ganttUpper.view.end.getUnixTime();return!(a<o||s>l)}updateItemDate(t,i){this.item.updateDate(this.ganttUpper.view.startOfPrecision(t),this.ganttUpper.view.endOfPrecision(i))}createDrags(t,i,a){if(this.item=i,this.barElement=t.nativeElement,this.ganttUpper=a,!(this.dragDisabled&&this.linkDragDisabled)){if(this.createMouseEvents(),!this.dragDisabled){let s=this.createBarDrag(),o=this.createBarHandleDrags();this.dragRefs.push(s,...o)}if(!this.linkDragDisabled){let s=this.createLinkHandleDrags();this.dragRefs.push(...s)}}}updateItem(t){this.item=t}ngOnDestroy(){this.closeDragBackdrop(),this.dragRefs.forEach(t=>t.dispose()),this.destroy$.next(),this.destroy$.complete(),this.stopScrolling(),this.stopScrollTimers$.complete()}};e.\u0275fac=function(i){return new(i||e)(it(ci),it(kn),it(Qt),it(et))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let n=e;return n})(),Ki=(()=>{let e=class e{constructor(t,i){this.elementRef=t,this.ganttUpper=i,this.firstChange=!0,this.unsubscribe$=new Y,this.refsUnsubscribe$=new Y}ngOnInit(){this.firstChange=!1,this.item.refs$.pipe(b(this.refsUnsubscribe$)).subscribe(()=>{this.setPositions()})}ngOnChanges(t){this.firstChange||this.itemChange(t.item.currentValue)}itemChange(t){this.refsUnsubscribe$.next(),this.refsUnsubscribe$.complete(),this.item=t,this.item.refs$.pipe(b(this.refsUnsubscribe$)).subscribe(()=>{this.setPositions()})}setPositions(){let t=this.elementRef.nativeElement;t.style.left=this.item.refs?.x+"px",t.style.top=this.item.refs?.y+"px",t.style.width=this.item.refs?.width+"px",this.item.type===xt.bar?t.style.height=this.ganttUpper.styles.barHeight+"px":this.item.type===xt.range&&(t.style.height=Us+"px")}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.refsUnsubscribe$.next(),this.refsUnsubscribe$.complete()}};e.\u0275fac=function(i){return new(i||e)(v(N),v(A))},e.\u0275dir=Me({type:e,inputs:{template:"template",item:"item"},features:[kt]});let n=e;return n})();function qi(n,e,r){return`linear-gradient(${n},${e} 0%,${r} 40%)`}var no=(()=>{let e=class e extends Ki{constructor(t,i,a,s,o){super(a,s),this.dragContainer=t,this.drag=i,this.ganttUpper=s,this.ngZone=o,this.barClick=new D,this.ganttItemClass=!0}ngOnInit(){super.ngOnInit(),this.dragContainer.dragStarted.pipe(b(this.unsubscribe$)).subscribe(()=>{this.elementRef.nativeElement.style.pointerEvents="none"}),this.dragContainer.dragEnded.pipe(b(this.unsubscribe$)).subscribe(()=>{this.elementRef.nativeElement.style.pointerEvents="",this.setContentBackground()})}ngOnChanges(t){super.ngOnChanges(t),this.firstChange||(this.drag.updateItem(this.item),(t.item.currentValue.refs?.width!==t.item.previousValue.refs?.width||t.item.currentValue.color!==t.item.previousValue.color||t.item.currentValue.start?.value!==t.item.previousValue.start?.value||t.item.currentValue.end?.value!==t.item.previousValue.end?.value)&&this.setContentBackground())}ngAfterViewInit(){let t=this.ngZone.isStable?Dt(Promise.resolve()):this.ngZone.onStable.pipe(tt(1));this.ngZone.runOutsideAngular(()=>{t.pipe(b(this.unsubscribe$)).subscribe(()=>{this.drag.createDrags(this.elementRef,this.item,this.ganttUpper)})}),this.setContentBackground(),this.handles.changes.pipe(Ct(this.handles),Ee(()=>new Te(i=>this.ngZone.runOutsideAngular(()=>pt(...this.handles.toArray().map(a=>Q(a.nativeElement,"mousedown"))).subscribe(i)))),b(this.unsubscribe$)).subscribe(i=>{i.stopPropagation()})}onBarClick(t){this.barClick.emit({event:t,item:this.item.origin})}setContentBackground(){if(this.item.refs?.width){let t=this.contentElementRef.nativeElement,i=this.item.color||Vs,a=this.item.barStyle||{},s=this.elementRef.nativeElement;if(this.item.origin.start&&this.item.origin.end&&(a.background=i,a.borderRadius=""),this.item.origin.start&&!this.item.origin.end){a.background=qi("to left",Gt(i,.55),Gt(i,1));let o="4px 12.5px 12.5px 4px";a.borderRadius=o,s.style.borderRadius=o}if(!this.item.origin.start&&this.item.origin.end){a.background=qi("to right",Gt(i,.55),Gt(i,1));let o="12.5px 4px 4px 12.5px";a.borderRadius=o,s.style.borderRadius=o}if(this.item.progress>=0){let o=t.querySelector(".gantt-bar-content-progress");a.background=Gt(i,.3),a.borderRadius="",o.style.background=i}for(let o in a)a.hasOwnProperty(o)&&(t.style[o]=a[o])}}stopPropagation(t){t.stopPropagation()}};e.\u0275fac=function(i){return new(i||e)(v(Qt),v(ji),v(N),v(A),v(et))},e.\u0275cmp=R({type:e,selectors:[["ngx-gantt-bar"],["gantt-bar"]],viewQuery:function(i,a){if(i&1&&(lt(Jr,5),lt(Kr,5)),i&2){let s;k(s=S())&&(a.contentElementRef=s.first),k(s=S())&&(a.handles=s)}},hostVars:2,hostBindings:function(i,a){i&2&&L("gantt-bar",a.ganttItemClass)},outputs:{barClick:"barClick"},standalone:!0,features:[ee([ji]),Kt,kt,$],decls:9,vars:8,consts:[["content",""],["handle",""],[1,"gantt-bar-layer"],[1,"drag-handles"],[4,"ngIf"],["class","link-handles",4,"ngIf"],[1,"gantt-bar-border"],[1,"gantt-bar-content",3,"click"],["class","gantt-bar-content-progress",3,"width",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"handle"],[1,"link-handles"],[1,"point"],[1,"gantt-bar-content-progress"]],template:function(i,a){if(i&1){let s=J();p(0,"div",2)(1,"div",3),f(2,ta,5,0,"ng-container",4),y(),f(3,ea,5,0,"div",5),y(),x(4,"div",6),p(5,"div",7,0),G("click",function(l){return T(s),O(a.onBarClick(l))}),f(7,na,1,2,"div",8)(8,ia,0,0,"ng-template",9),y()}i&2&&(d(2),h("ngIf",a.item.draggable&&a.ganttUpper.draggable),d(),h("ngIf",a.item.linkable&&a.ganttUpper.linkable),d(4),h("ngIf",a.item.progress>=0),d(),h("ngTemplateOutlet",a.template)("ngTemplateOutletContext",ct(5,On,a.item.origin,a.item.refs)))},dependencies:[X,nt],encapsulation:2});let n=e;return n})(),io=(()=>{let e=class e{constructor(t,i){this.elementRef=t,this.ganttUpper=i,this.unsubscribe$=new Y,this.ganttBaselineClass=!0}ngOnInit(){this.baselineItem.refs$.pipe(b(this.unsubscribe$)).subscribe(()=>{this.setPositions()})}setPositions(){let t=this.elementRef.nativeElement;t.style.left=this.baselineItem.refs.x+"px",t.style.bottom="2px",t.style.width=this.baselineItem.refs.width+"px"}};e.\u0275fac=function(i){return new(i||e)(v(N),v(A))},e.\u0275cmp=R({type:e,selectors:[["ngx-gantt-baseline"],["gantt-baseline"]],hostVars:2,hostBindings:function(i,a){i&2&&L("gantt-baseline",a.ganttBaselineClass)},inputs:{baselineItem:"baselineItem",template:"template"},standalone:!0,features:[$],decls:1,vars:1,consts:[["content",""],["class","baseline-content",4,"ngIf"],[1,"baseline-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,a){i&1&&f(0,aa,3,5,"div",1),i&2&&h("ngIf",a.baselineItem)},dependencies:[X,nt],encapsulation:2});let n=e;return n})(),zi=5e3,tr=(()=>{let e=class e{get view(){return this.ganttUpper.view}constructor(t,i,a){this.ganttUpper=t,this.ngZone=i,this.elementRef=a,this.unsubscribe$=new Y,this.headerHeight=Dn,this.mainHeight=zi,this.todayBorderRadius=As,this.viewTypes=I,this.className="gantt-calendar gantt-calendar-grid"}setTodayPoint(){let t=this.view.getTodayXPoint(),i=this.elementRef.nativeElement.getElementsByClassName("gantt-calendar-today-overlay")[0],a=this.elementRef.nativeElement.getElementsByClassName("today-line")[0];In(t)?a&&(a.style.left=`${t}px`,a.style.top="0px",a.style.bottom=`${-zi}px`):i.style.display="none"}ngOnInit(){this.ngZone.onStable.pipe(tt(1)).subscribe(()=>{pt(this.ganttUpper.viewChange,this.ganttUpper.view.start$).pipe(b(this.unsubscribe$)).subscribe(()=>{this.setTodayPoint()})})}trackBy(t,i){return t.text||i}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}};e.\u0275fac=function(i){return new(i||e)(v(A),v(et),v(N))},e.\u0275cmp=R({type:e,selectors:[["gantt-calendar-grid"]],hostVars:2,hostBindings:function(i,a){i&2&&te(a.className)},standalone:!0,features:[$],decls:7,vars:8,consts:[[1,"gantt-calendar-today-overlay"],["class","today-line",4,"ngIf"],[1,"gantt-calendar-grid-main"],[4,"ngIf"],["class","primary-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"today-line"],["class","secondary-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"secondary-line"],[1,"primary-line"]],template:function(i,a){i&1&&(p(0,"div",0),f(1,sa,1,0,"span",1),y(),j(),p(2,"svg",2)(3,"g"),f(4,la,2,2,"g",3),p(5,"g"),f(6,ca,1,4,"line",4),y()()()),i&2&&(E("width",a.view.width,"px"),d(),h("ngIf",a.ganttUpper.showTodayLine),d(),q("width",a.view.width)("height",a.headerHeight-1),d(2),h("ngIf",a.view.showTimeline),d(2),h("ngForOf",a.view.primaryDatePoints)("ngForTrackBy",a.trackBy))},dependencies:[X,dt],encapsulation:2});let n=e;return n})(),er=(()=>{let e=class e{get view(){return this.ganttUpper.view}constructor(t,i,a){this.ganttUpper=t,this.ngZone=i,this.elementRef=a,this.unsubscribe$=new Y,this.headerHeight=Dn,this.viewTypes=I,this.className="gantt-calendar gantt-calendar-header"}ngOnInit(){this.ngZone.onStable.pipe(tt(1)).subscribe(()=>{pt(this.ganttUpper.viewChange,this.ganttUpper.view.start$).pipe(b(this.unsubscribe$)).subscribe(()=>{this.ganttUpper.viewType===I.day&&this.setTodayPoint()})})}setTodayPoint(){let t=this.view.getTodayXPoint(),i=new _().getDate(),a=this.elementRef.nativeElement.getElementsByClassName("gantt-calendar-today-overlay")[0],s=this.elementRef.nativeElement.getElementsByClassName("today-rect")[0];In(t)?s&&(s.style.left=`${t-Ys/2}px`,s.style.top=`${Dn-Gs}px`,s.innerHTML=i.toString()):a.style.display="none"}trackBy(t,i){return t.text||i}};e.\u0275fac=function(i){return new(i||e)(v(A),v(et),v(N))},e.\u0275cmp=R({type:e,selectors:[["gantt-calendar-header"]],hostVars:2,hostBindings:function(i,a){i&2&&te(a.className)},standalone:!0,features:[$],decls:10,vars:15,consts:[[1,"gantt-calendar-today-overlay"],[1,"today-rect",3,"hidden"],["class","primary-text",3,"ngStyle","today","weekend",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","primary-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"header-line"],[1,"primary-text",3,"ngStyle"],[1,"secondary-text",3,"ngStyle"],[1,"primary-line"]],template:function(i,a){i&1&&(p(0,"div",0),x(1,"span",1),y(),j(),p(2,"svg")(3,"g"),f(4,da,2,8,"text",2)(5,ha,3,8,"ng-container",3),p(6,"g"),f(7,ua,1,4,"line",4),y(),p(8,"g"),x(9,"line",5),y()()()),i&2&&(E("width",a.view.width,"px"),d(),h("hidden",a.ganttUpper.viewType!==a.viewTypes.day),d(),q("width",a.view.width)("height",a.headerHeight),d(2),h("ngForOf",a.view.primaryDatePoints)("ngForTrackBy",a.trackBy),d(),h("ngForOf",a.view.secondaryDatePoints)("ngForTrackBy",a.trackBy),d(2),h("ngForOf",a.view.primaryDatePoints)("ngForTrackBy",a.trackBy),d(2),q("x1",0)("x2",a.view.width)("y1",a.headerHeight)("y2",a.headerHeight))},dependencies:[dt,ti],encapsulation:2});let n=e;return n})(),Sn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=R({type:e,selectors:[["gantt-drag-backdrop"]],hostAttrs:[1,"gantt-drag-backdrop"],standalone:!0,features:[$],decls:4,vars:0,consts:[[1,"gantt-drag-mask"],[1,"date-range"],[1,"start"],[1,"end"]],template:function(i,a){i&1&&(p(0,"div",0)(1,"div",1),x(2,"span",2)(3,"span",3),y()())},encapsulation:2});let n=e;return n})(),ro='<svg xmlns="http://www.w3.org/2000/svg" fit=""  preserveAspectRatio="xMidYMid meet" focusable="false"><g id="amnavigation/angle-right" stroke-width="1" fill-rule="evenodd"><path d="M7.978 11.498l-.005.005L2.3 5.831 3.13 5l4.848 4.848L12.826 5l.83.831-5.673 5.672-.005-.005z"   transform="rotate(-90 7.978 8.252)"></path></g></svg>',ao='<svg xmlns="http://www.w3.org/2000/svg" fit=""  preserveAspectRatio="xMidYMid meet" focusable="false"><g id="aknavigation/angle-down" stroke-width="1" fill-rule="evenodd"><path d="M7.978 11.997l-.005.006L2.3 6.33l.83-.831 4.848 4.848L12.826 5.5l.83.83-5.673 5.673-.005-.006z" ></path></g></svg>',so='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fit=""   preserveAspectRatio="xMidYMid meet" focusable="false"><g id="kxaction/plus-square" stroke-width="1" fill-rule="evenodd"><path d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1.2a.8.8 0 0 0-.8.8v12a.8.8 0 0 0 .8.8h12a.8.8 0 0 0 .8-.8V2a.8.8 0 0 0-.8-.8H2zm5.45 6.2V4.75h1.2V7.4h2.65v1.2H8.65v2.65h-1.2V8.6H4.8V7.4h2.65z"></path></g></svg>',oo='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><g id="jnaction/minus-square" stroke-width="1" fill-rule="evenodd"><path d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1.2a.8.8 0 0 0-.8.8v12a.8.8 0 0 0 .8.8h12a.8.8 0 0 0 .8-.8V2a.8.8 0 0 0-.8-.8H2zm2.8 6.2h6.5v1.2H4.8V7.4z"></path></g></svg>',lo=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve">
<path fill="#aaa" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)">
    <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform>
</path>
</svg>`,co=`<svg
width="148px"
height="134px"
viewBox="0 0 148 134"
version="1.1"
xmlns="http://www.w3.org/2000/svg"
xmlns:xlink="http://www.w3.org/1999/xlink"
>
<defs>
  <filter x="0.0%" y="0.0%" width="100.0%" height="100.0%" filterUnits="objectBoundingBox" id="filter-1">
    <feGaussianBlur stdDeviation="0" in="SourceGraphic"></feGaussianBlur>
  </filter>
</defs>
<g id="148x134" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
  <g id="\u7F16\u7EC4-6" transform="translate(1.000000, 1.000000)">
    <ellipse
      id="\u692D\u5706\u5F62"
      fill="#EDEEF2"
      opacity="0.3"
      filter="url(#filter-1)"
      cx="73.0800017"
      cy="115.920003"
      rx="73.0800017"
      ry="16.8000004"
    ></ellipse>
    <g id="\u7F16\u7EC4-5" transform="translate(15.120000, 0.000000)">
      <polygon
        id="\u77E9\u5F62"
        fill="#E2E4E9"
        points="19.2789848 49.5600011 99.1200023 48.7200011 117.600003 75.9297673 117.600003 92.313049 0 92.313049 0 75.0356267"
      ></polygon>
      <path
        d="M23.5200005,0 L94.0800002,0 C97.7913538,2.06413823e-16 100.8,3.00864655 100.8,6.72000015 L100.8,99.1200023 L100.8,99.1200023 L16.8000004,99.1200023 L16.8000004,6.72000015 C16.8000004,3.00864655 19.8086469,1.56994302e-15 23.5200005,0 Z"
        id="\u77E9\u5F62"
        fill="#F9FAFB"
      ></path>
      <path
        d="M30.9200007,12.4400003 L86.6800019,12.4400003 C88.5356787,12.4400003 90.040002,13.9443236 90.040002,15.8000004 L90.040002,42.000001 C90.040002,43.8556778 88.5356787,45.360001 86.6800019,45.360001 L30.9200007,45.360001 C29.0643239,45.360001 27.5600006,43.8556778 27.5600006,42.000001 L27.5600006,15.8000004 C27.5600006,13.9443236 29.0643239,12.4400003 30.9200007,12.4400003 Z"
        id="\u77E9\u5F62"
        fill="#E8EAEE"
      ></path>
      <text
        id="&lt;/null&gt;"
        font-family="PingFangSC-Medium, PingFang SC"
        font-size="15.1200003"
        font-weight="400"
        fill="#BCBECD"
      >
        <tspan x="33.6000008" y="32.8000004">&lt;/null&gt;</tspan>
      </text>
      <rect id="\u77E9\u5F62" fill="#E8EAEE" x="27.5600006" y="52.0800012" width="61.4800014" height="5.04000011" rx="2.52000006"></rect>
      <rect
        id="\u77E9\u5F62\u5907\u4EFD"
        fill="#E8EAEE"
        x="27.5600006"
        y="63.8400014"
        width="61.4800014"
        height="5.04000011"
        rx="2.52000006"
      ></rect>
      <path
        d="M0,75.6000017 L29.280235,75.6000017 C32.0637502,75.6000017 34.3202352,77.8564866 34.3202352,80.6400018 L34.3202352,86.2591426 C34.3202352,89.0426578 36.5767201,91.2991427 39.3602353,91.2991427 L78.4136737,91.2991427 C81.1971889,91.2991427 83.4536738,89.0426578 83.4536738,86.2591426 L83.4536738,80.6400018 C83.4536738,77.8564866 85.7101587,75.6000017 88.4936739,75.6000017 L117.600003,75.6000017 L117.600003,75.6000017 L117.600003,110.880003 C117.600003,115.519195 113.839194,119.280003 109.200002,119.280003 L8.40000019,119.280003 C3.76080819,119.280003 -6.53729019e-15,115.519195 0,110.880003 L0,75.6000017 L0,75.6000017 Z"
        id="\u77E9\u5F62"
        fill="#EDEFF2"
      ></path>
    </g>
  </g>
</g>
</svg>`,ho='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><g id="aijaction/drag--" stroke-width="1" fill-rule="evenodd"><g id="aij\u62D6\u52A8" transform="translate(5 1)" fill-rule="nonzero"><path d="M1 2a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM1 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" id="aij\u5F62\u72B6\u7ED3\u5408"></path></g></g></svg>',uo={"angle-right":ro,"angle-down":ao,"plus-square":so,"minus-square":oo,loading:lo,empty:co,drag:ho},go=(()=>{let e=class e{set iconName(t){this.setSvg(t)}constructor(t){this.elementRef=t,this.isIcon=!0}setSvg(t){let i=uo[t];i?this.elementRef.nativeElement.innerHTML=i:this.elementRef.nativeElement.innerHTML=""}};e.\u0275fac=function(i){return new(i||e)(v(N))},e.\u0275cmp=R({type:e,selectors:[["gantt-icon"]],hostVars:2,hostBindings:function(i,a){i&2&&L("gantt-icon",a.isIcon)},inputs:{iconName:"iconName"},standalone:!0,features:[$],decls:0,vars:0,template:function(i,a){},encapsulation:2});let n=e;return n})(),De=class{constructor(){}generatePath(e,r,t){if(e.before&&e.after&&r.before&&r.after){let i="";switch(t){case B.ss:i=this.generateSSPath(e,r);break;case B.ff:i=this.generateFFPath(e,r);break;case B.sf:i=this.generateFSAndSFPath(e,r,t);break;default:i=this.generateFSAndSFPath(e,r)}return i}}},po=(()=>{let n=class extends De{constructor(r){super(),this.ganttUpper=r}generateSSPath(r,t){let i=r.before.x,a=r.before.y,s=t.before.x,o=t.before.y,l=o>a?0:1,g=Math.abs(o-a)/2;return s>i?`M ${i} ${a}
                    A ${g} ${g} 0 1 ${l} ${i} ${o}
                    L ${s} ${o}`:`M ${i} ${a}
                    L ${s} ${a}
                    A ${g} ${g} 0 1 ${l} ${s} ${o}`}generateFFPath(r,t){let i=r.after.x,a=r.after.y,s=t.after.x,o=t.after.y,l=o>a?1:0,g=Math.abs(o-a)/2;return s>i?`M ${i} ${a}
                    L ${s} ${a}
                    A ${g} ${g} 0 1 ${l} ${s} ${o}`:`M ${i} ${a}
                    A ${g} ${g} 0 1 ${l} ${i} ${o}
                    L ${s} ${o}`}generateFSAndSFPath(r,t,i){let a=r.after.x,s=r.after.y,o=t.before.x,l=t.before.y,g=.5;i===B.sf&&(a=t.after.x,s=t.after.y,o=r.before.x,l=r.before.y);let m=Math.abs(o-a)*g,w=a+m,F=o-m,Ce=(a+o)/2,qt=(s+l)/2,W=this.ganttUpper.styles.lineHeight/2,gt=this.ganttUpper.styles.lineHeight/2;return a>=o?Math.abs(l-s)<=this.ganttUpper.styles.lineHeight?`M ${a} ${s}
                    C ${a+W} ${s} ${a+W} ${l>s?s+W:s-W} ${a} ${l>s?s+gt:s-gt}
                    L ${o} ${l>s?l-gt:l+gt}
                    C ${o-gt} ${l>s?l-gt:l+gt}  ${o-W} ${l} ${o} ${l}
                    `:(W=this.ganttUpper.styles.lineHeight,`M ${a} ${s}
                    C ${a+W} ${s} ${a+W} ${l>s?s+W:s-W} ${Ce} ${qt}
                    C ${o-W} ${l>s?l-W:l+W} ${o-W} ${l} ${o} ${l}
                    `):this.ganttUpper.linkOptions?.showArrow&&o-a<200?(m=Math.max(Math.abs(l-s)*g,60),w=a+m,F=o-m,`M ${a} ${s} C ${w} ${s} ${F} ${l} ${o} ${l}`):`M ${a} ${s} C ${w} ${s} ${F} ${l} ${o} ${l}`}};return n=Rn([$n(0,Gn(A))],n),n})(),Tn=class extends De{constructor(){super(),this.pathControl=20}generateSSPath(e,r){let t=e.before.x,i=e.before.y,a=r.before.x,s=r.before.y,o=this.pathControl;return`M ${t} ${i}
                        L ${a>t?t-o:a-o} ${i}
                        L ${a>t?t-o:a-o} ${s}
                        L ${a} ${s}`}generateFFPath(e,r){let t=e.after.x,i=e.after.y,a=r.after.x,s=r.after.y,o=this.pathControl;return`M ${t} ${i}
                        L ${a>t?a+o:t+o} ${i}
                        L ${a>t?a+o:t+o} ${s}
                        L ${a} ${s}`}generateFSAndSFPath(e,r,t){let i=e.after.x,a=e.after.y,s=r.before.x,o=r.before.y,l=this.pathControl;return t===B.sf&&(i=r.after.x,a=r.after.y,s=e.before.x,o=e.before.y),s-i>=40?`M ${i} ${a}
                        L ${i+l} ${a}
                        L ${i+l} ${o}
                        L ${s} ${o}`:`M ${i} ${a}
                        L ${i+l} ${a}
                        L ${i+l} ${o>a?a+l:a-l}
                        L ${s-l} ${o>a?a+l:a-l}
                        L ${s-l} ${o}
                        L ${s} ${o}`}};function mo(n,e){switch(n){case be.curve:return new po(e);case be.straight:return new Tn;default:throw new Error("gantt link path type invalid")}}var fo=(()=>{let e=class e{constructor(t,i,a,s,o){this.ganttUpper=t,this.cdr=i,this.elementRef=a,this.ganttDragContainer=s,this.ngZone=o,this.flatItems=[],this.lineClick=new D,this.links=[],this.ganttLinkTypes=B,this.showArrow=!1,this.linkItems=[],this.firstChange=!0,this.unsubscribe$=new Y,this.ganttLinksOverlay=!0}ngOnInit(){this.linkLine=mo(this.ganttUpper.linkOptions.lineType,this.ganttUpper),this.showArrow=this.ganttUpper.linkOptions.showArrow,this.firstChange=!1,this.buildLinks(),this.ganttDragContainer.dragStarted.pipe(b(this.unsubscribe$)).subscribe(()=>{this.elementRef.nativeElement.style.visibility="hidden"}),pt(this.ganttUpper.viewChange,this.ganttUpper.expandChange,this.ganttUpper.view.start$,this.ganttUpper.dragEnded,this.ganttUpper.linkDragEnded,this.ngZone.onStable.pipe(tt(1)).pipe(Ee(()=>this.ganttUpper.table?.dragDropped||Oe))).pipe(Xt(1),Ln(0),b(this.unsubscribe$)).subscribe(()=>{this.elementRef.nativeElement.style.visibility="visible",this.buildLinks(),this.cdr.detectChanges()})}ngOnChanges(){this.firstChange||this.buildLinks()}computeItemPosition(){let t=this.ganttUpper.styles.lineHeight,i=this.ganttUpper.styles.barHeight;this.linkItems=[],this.flatItems.forEach((a,s)=>{if(!a.hasOwnProperty("items")){let o=a;if(o.refs){let l=s*t+o.refs.y+i/2;this.linkItems.push(Se(ke({},o),{before:{x:o.refs.x,y:l},after:{x:o.refs.x+o.refs.width,y:l}}))}}})}buildLinks(){this.computeItemPosition(),this.links=[],this.linkItems.forEach(t=>{(t.origin.start||t.origin.end)&&t.links.forEach(i=>{let a=this.linkItems.find(s=>s.id===i.link);if(a&&(a.origin.start||a.origin.end)){let s=At.default,o=At.active;i.type===B.fs&&t.end.getTime()>a.start.getTime()&&(s=At.blocked,o=At.blocked),i.color&&(typeof i.color=="string"?(s=i.color,o=i.color):(s=i.color.default,o=i.color.active)),this.links.push({path:this.linkLine.generatePath(t,a,i.type),source:t.origin,target:a.origin,type:i.type,color:s,defaultColor:s,activeColor:o})}})})}trackBy(t){return t}onLineClick(t,i){this.lineClick.emit({event:t,source:i.source,target:i.target})}mouseEnterPath(t,i){t.color=t.activeColor||t.defaultColor,i<this.links.length-1&&(this.links.splice(i,1),this.links.push(t))}mouseLeavePath(t){t.color=t.defaultColor}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}};e.\u0275fac=function(i){return new(i||e)(v(A),v(St),v(N),v(Qt),v(et))},e.\u0275cmp=R({type:e,selectors:[["gantt-links-overlay"]],hostVars:2,hostBindings:function(i,a){i&2&&L("gantt-links-overlay",a.ganttLinksOverlay)},inputs:{flatItems:"flatItems"},outputs:{lineClick:"lineClick"},standalone:!0,features:[kt,$],decls:3,vars:3,consts:[["markerEnd",""],[1,"gantt-links-overlay-main"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"link-dragging-line"],["fill","transparent","stroke-width","2","pointer-events","none"],["stroke","transparent","stroke-width","9","fill","none","cursor","pointer",1,"link-line",3,"click","mouseenter","mouseleave"],[4,"ngIf"],["markerUnits","strokeWidth","markerWidth","5","markerHeight","4","refX","5","refY","2","orient","180",3,"id",4,"ngIf","ngIfElse"],["markerUnits","strokeWidth","markerWidth","5","markerHeight","4","refX","5","refY","2","orient","180",3,"id"],["d","M 0 0 L 5 2 L 0 4 z"],["markerUnits","strokeWidth","markerWidth","5","markerHeight","4","refX","5","refY","2","orient","auto",3,"id"]],template:function(i,a){i&1&&(j(),p(0,"svg",1),f(1,fa,5,5,"ng-container",2),x(2,"line",3),y()),i&2&&(q("width",a.ganttUpper.view.width),d(),h("ngForOf",a.links)("ngForTrackBy",a.trackBy))},dependencies:[dt,X],encapsulation:2});let n=e;return n})(),yo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=R({type:e,selectors:[["gantt-loader"]],hostAttrs:[1,"gantt-loader","gantt-loader-overlay"],standalone:!0,features:[$],decls:3,vars:0,consts:[[1,"gantt-loader-wrapper"],[1,"gantt-loader-loading"],[1,"gantt-loader-loading-spot"]],template:function(i,a){i&1&&(p(0,"div",0)(1,"div",1),x(2,"span",2),y()())},encapsulation:2});let n=e;return n})(),nr=(()=>{let e=class e{transform(t){return t===xt.range}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Jt({name:"isGanttRangeItem",type:e,pure:!0,standalone:!0});let n=e;return n})(),vo=(()=>{let e=class e{transform(t){return t===xt.bar}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Jt({name:"isGanttBarItem",type:e,pure:!0,standalone:!0});let n=e;return n})(),bo=(()=>{let e=class e{transform(t){return t===xt.custom}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Jt({name:"isGanttCustomItem",type:e,pure:!0,standalone:!0});let n=e;return n})(),wo=(()=>{let e=class e extends Ki{constructor(t,i){super(t,i),this.ganttRangeClass=!0}};e.\u0275fac=function(i){return new(i||e)(v(N),v(A))},e.\u0275cmp=R({type:e,selectors:[["ngx-gantt-range"],["gantt-range"]],hostVars:2,hostBindings:function(i,a){i&2&&L("gantt-range",a.ganttRangeClass)},standalone:!0,features:[Kt,$],decls:1,vars:1,consts:[[4,"ngIf"],[1,"gantt-range-main"],["class","gantt-range-main-progress",3,"width",4,"ngIf"],[1,"gantt-range-triangle","left"],[1,"gantt-range-triangle","right"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"gantt-range-main-progress"]],template:function(i,a){i&1&&f(0,ba,6,6,"ng-container",0),i&2&&h("ngIf",a.item.start&&a.item.end)},dependencies:[X,nt],encapsulation:2});let n=e;return n})(),_o=(()=>{let e=class e{constructor(t){this.ganttUpper=t,this.barClick=new D,this.lineClick=new D,this.ganttMainClass=!0}trackBy(t,i){return i.id||t}};e.\u0275fac=function(i){return new(i||e)(v(A))},e.\u0275cmp=R({type:e,selectors:[["gantt-main"]],hostVars:2,hostBindings:function(i,a){i&2&&L("gantt-main-container",a.ganttMainClass)},inputs:{viewportItems:"viewportItems",flatItems:"flatItems",groupHeaderTemplate:"groupHeaderTemplate",itemTemplate:"itemTemplate",barTemplate:"barTemplate",rangeTemplate:"rangeTemplate",baselineTemplate:"baselineTemplate"},outputs:{barClick:"barClick",lineClick:"lineClick"},standalone:!0,features:[$],decls:3,vars:5,consts:[[3,"lineClick","flatItems"],[1,"gantt-main-groups"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","gantt-group",3,"ngClass",4,"ngIf"],["class","gantt-item",3,"height","gantt-main-item-active",4,"ngIf"],[1,"gantt-group",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"gantt-item"],[4,"ngIf"],[3,"template","item",4,"ngIf"],[3,"item","template","barClick",4,"ngIf"],[3,"baselineItem","template",4,"ngIf"],[3,"template","item"],[3,"barClick","item","template"],[3,"baselineItem","template"]],template:function(i,a){i&1&&(p(0,"gantt-links-overlay",0),G("lineClick",function(o){return a.lineClick.emit(o)}),y(),p(1,"div",1),f(2,Ma,3,2,"ng-container",2),y()),i&2&&(h("flatItems",a.flatItems),d(),E("width",a.ganttUpper.view.width,"px"),d(),h("ngForOf",a.viewportItems)("ngForTrackBy",a.trackBy))},dependencies:[fo,dt,X,ie,nt,wo,no,io,nr,vo,bo],encapsulation:2});let n=e;return n})(),Mn=new Zt("gantt-abstract-token"),xo=typeof window<"u"&&!!window.CSS&&CSS.supports||(()=>!1);function Do({element:n,style:e,value:r}){n.style[e]=r,xo(`-webkit-${e}: ${r}`)&&(n.style[`-webkit-${e}`]=r)}var ir=100,ye=80,Co=(()=>{let e=class e{constructor(t,i,a){this.elementRef=t,this.gantt=i,this.cdr=a,this.tableWidth=0,this.unsubscribe$=new Y,this.className="gantt-table-header "}ngOnInit(){this.columnsChange(),this.columns.changes.pipe(b(this.unsubscribe$)).subscribe(()=>{this.columnsChange(),this.gantt.cdr.detectChanges()})}columnsChange(){let t=0;this.columns.forEach(i=>{i.columnWidth||(i.columnWidth=Tt(ir)),t+=Number(i.columnWidth.replace("px",""))}),this.tableWidth=t}dragFixed(t){t.movedWidth<t.minWidth&&Do({element:t.target,style:"transform",value:`translate3d(${t.minWidth-t.originWidth}px, 0, 0)`})}onResizeStarted(t){let i=t.source.element.nativeElement;this.dragStartLeft=i.getBoundingClientRect().left}onResizeMoved(t,i){let a=t.source.element.nativeElement,s=a.getBoundingClientRect().left,o,l,g;i?(o=parseInt(i.columnWidth,10),l=o+(s-this.dragStartLeft),g=ye):(o=this.elementRef.nativeElement.getBoundingClientRect().width,l=o+(s-this.dragStartLeft),g=ye*this.columns.length),this.dragFixed({target:a,originWidth:o,movedWidth:l,minWidth:g}),this.showAuxiliaryLine(t)}onResizeEnded(t,i){let a=parseInt(i.columnWidth,10),o=t.source.element.nativeElement.getBoundingClientRect().left,l=parseInt(i.columnWidth,10)+(o-this.dragStartLeft),g=Math.max(l||0,ye);i.columnWidth=Tt(g),this.gantt.table&&this.gantt.table.columnChanges.emit({columns:this.columns}),this.tableWidth=this.tableWidth-a+g,this.hideAuxiliaryLine(),t.source.reset()}onOverallResizeEnded(t){let a=t.source.element.nativeElement.getBoundingClientRect().left,s=this.elementRef.nativeElement.getBoundingClientRect().width,o=a-this.dragStartLeft,l=0;this.columns.forEach(g=>{let m=parseInt(g.columnWidth,10),w=parseInt(String(o*(m/s)),10),F=Math.max(m+w||0,ye);g.columnWidth=Tt(F),l+=F}),this.tableWidth=l,this.gantt.table&&this.gantt.table.columnChanges.emit({columns:this.columns}),this.hideAuxiliaryLine(),t.source.reset()}showAuxiliaryLine(t){let i=this.elementRef.nativeElement.getBoundingClientRect(),a=t.source.element.nativeElement.getBoundingClientRect(),s={x:a.left-i.left,y:a.top-i.top};this.resizeLineElementRef.nativeElement.style.left=`${s.x}px`,this.resizeLineElementRef.nativeElement.style.display="block"}hideAuxiliaryLine(){this.resizeLineElementRef.nativeElement.style.display="none"}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}};e.\u0275fac=function(i){return new(i||e)(v(N),v(Mn),v(St))},e.\u0275cmp=R({type:e,selectors:[["gantt-table-header"]],viewQuery:function(i,a){if(i&1&&lt(Pa,7),i&2){let s;k(s=S())&&(a.resizeLineElementRef=s.first)}},hostVars:2,hostBindings:function(i,a){i&2&&te(a.className)},inputs:{columns:"columns"},standalone:!0,features:[$],decls:5,vars:1,consts:[["resizeLine",""],["default",""],[1,"gantt-table-header-container"],["class","gantt-table-column",3,"width",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragLockAxis","x","cdkDragBoundary",".gantt",1,"table-resize-handle",3,"cdkDragMoved","cdkDragStarted","cdkDragEnded"],[1,"table-resize-auxiliary-line"],[1,"gantt-table-column"],[3,"ngTemplateOutlet",4,"ngIf","ngIfElse"],["cdkDrag","","cdkDragLockAxis","x","cdkDragBoundary",".gantt",1,"column-resize-handle",3,"cdkDragMoved","cdkDragStarted","cdkDragEnded"],[3,"ngTemplateOutlet"]],template:function(i,a){if(i&1){let s=J();p(0,"div",2),f(1,$a,5,4,"div",3),y(),p(2,"div",4),G("cdkDragMoved",function(l){return T(s),O(a.onResizeMoved(l))})("cdkDragStarted",function(l){return T(s),O(a.onResizeStarted(l))})("cdkDragEnded",function(l){return T(s),O(a.onOverallResizeEnded(l))}),y(),x(3,"div",5,0)}i&2&&(d(),h("ngForOf",a.columns))},dependencies:[dt,X,nt,ae],encapsulation:2});let n=e;return n})(),ko=(()=>{let e=class e{set viewportItems(t){let i=t[0];i&&i.hasOwnProperty("items")&&(this.hasGroup=!0),this.ganttTableEmptyClass=!t?.length,this._viewportItems=t}get viewportItems(){return this._viewportItems}constructor(t,i,a,s){this.gantt=t,this.ganttUpper=i,this.cdr=a,this.document=s,this.draggable=!1,this.dragDropped=new D,this.dragStarted=new D,this.dragEnded=new D,this.itemClick=new D,this.ganttTableClass=!0,this.ganttTableEmptyClass=!1,this.ganttTableDragging=!1,this.hasExpandIcon=!1,this.itemDragsMap=new Map,this.itemDragMoved=new Y,this.destroy$=new Y}ngOnInit(){this.columns.changes.pipe(Ct(this.columns),b(this.destroy$)).subscribe(()=>{this.hasExpandIcon=!1,this.columns.forEach(t=>{t.columnWidth||(t.columnWidth=Tt(ir)),t.showExpandIcon&&(this.hasExpandIcon=!0)}),this.cdr.detectChanges()})}ngAfterViewInit(){this.cdkDrags.changes.pipe(Ct(this.cdkDrags),b(this.destroy$)).subscribe(t=>{this.itemDragsMap.clear(),t.forEach(i=>{i.data&&this.itemDragsMap.set(i.element.nativeElement,i)})}),this.itemDragMoved.pipe(zt(30),Fn(t=>t.source._dragRef.isDragging()),b(this.destroy$)).subscribe(t=>{this.onItemDragMoved(t)})}expandGroup(t){this.gantt.expandGroup(t)}expandChildren(t,i){t.stopPropagation(),this.gantt.expandChildren(i)}onItemDragStarted(t){this.ganttTableDragging=!0,this.getChildrenElementsByElement(t.source.element.nativeElement).forEach(a=>{a.classList.add("drag-item-hide")}),this.dragStarted.emit({source:t.source.data?.origin,sourceParent:this.getParentByItem(t.source.data)?.origin})}emitItemDragMoved(t){this.itemDragMoved.next(t)}onItemDragMoved(t){let i=this.document.elementFromPoint(t.pointerPosition.x,t.pointerPosition.y);if(!i){this.cleanupDragArtifacts();return}let a=i.classList.contains("gantt-table-item")?i:i.closest(".gantt-table-item");if(!a){this.cleanupDragArtifacts();return}if(this.itemDropTarget={id:this.itemDragsMap.get(a)?.data.id,position:this.getTargetPosition(a,t)},this.dropEnterPredicate){let s=this.itemDragsMap.get(a);this.dropEnterPredicate({source:t.source.data.origin,target:s.data.origin,dropPosition:this.itemDropTarget.position})?this.showDropPositionPlaceholder(a):(this.itemDropTarget=null,this.cleanupDragArtifacts(!1))}else this.showDropPositionPlaceholder(a)}onItemDragEnded(t){this.ganttTableDragging=!1,this.dragEnded.emit({source:t.source.data?.origin,sourceParent:this.getParentByItem(t.source.data)?.origin}),this.getChildrenElementsByElement(t.source.element.nativeElement).forEach(a=>{a.classList.remove("drag-item-hide")})}onListDropped(t){if(!this.itemDropTarget)return;let i=t.item.data,a=this.getParentByItem(i),s=this.getExpandChildrenByDrag(t.item),l=this.cdkDrags.find(m=>m.data?.id===this.itemDropTarget.id)?.data,g=this.getParentByItem(l);switch(this.removeItem(i,s),this.itemDropTarget.position){case"before":case"after":this.insertItem(l,i,s,this.itemDropTarget.position),i.updateLevel(l.level);break;case"inside":this.insertChildrenItem(l,i,s),i.updateLevel(l.level+1);break}this.dragDropped.emit({source:i.origin,sourceParent:a?.origin,target:l.origin,targetParent:g?.origin,dropPosition:this.itemDropTarget.position}),this.cleanupDragArtifacts(!0)}trackBy(t,i){return i.id||t}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}removeItem(t,i){this.viewportItems.splice(this.viewportItems.indexOf(t),1+i.length),this.flatItems.splice(this.flatItems.indexOf(t),1+i.length)}insertItem(t,i,a,s){if(s==="before")this.viewportItems.splice(this.viewportItems.indexOf(t),0,i,...a),this.flatItems.splice(this.flatItems.indexOf(t),0,i,...a);else{let o=this.cdkDrags.find(g=>g.data===t),l=0;t.expanded&&(l=this.getChildrenElementsByElement(o.element.nativeElement)?.length||0),this.viewportItems.splice(this.viewportItems.indexOf(t)+1+l,0,i,...a),this.flatItems.splice(this.flatItems.indexOf(t)+1+l,0,i,...a)}}insertChildrenItem(t,i,a){t.expanded&&(this.viewportItems.splice(this.viewportItems.indexOf(t)+t.children.length+1,0,i,...a),this.flatItems.splice(this.flatItems.indexOf(t)+t.children.length+1,0,i,...a)),t.children.push(i)}getParentByItem(t){return(this.flatItems||[]).find(i=>i.children?.includes(t))}getExpandChildrenByDrag(t){return t.data.expanded?this.getChildrenElementsByElement(t.element.nativeElement).map(a=>this.itemDragsMap.get(a).data):[]}getChildrenElementsByElement(t){let i=[],a=this.itemDragsMap.get(t),s=(a.getPlaceholderElement()||t).nextElementSibling,o=this.itemDragsMap.get(s);for(;o&&o.data.level>a.data.level;)i.push(s),s=s.nextElementSibling,o=this.itemDragsMap.get(s);return i}getTargetPosition(t,i){let a=t.getBoundingClientRect(),s=a.height*.3;return i.pointerPosition.y-a.top<s?"before":i.pointerPosition.y>=a.bottom-s?"after":"inside"}showDropPositionPlaceholder(t){this.cleanupDragArtifacts(),this.itemDropTarget&&t&&t.classList.add(`drop-position-${this.itemDropTarget.position}`)}cleanupDragArtifacts(t=!1){t&&(this.itemDropTarget=null,this.document.querySelectorAll(".drag-item-hide").forEach(i=>i.classList.remove("drag-item-hide"))),this.document.querySelectorAll(".drop-position-before").forEach(i=>i.classList.remove("drop-position-before")),this.document.querySelectorAll(".drop-position-after").forEach(i=>i.classList.remove("drop-position-after")),this.document.querySelectorAll(".drop-position-inside").forEach(i=>i.classList.remove("drop-position-inside"))}};e.\u0275fac=function(i){return new(i||e)(v(Mn),v(A),v(St),v(Kn))},e.\u0275cmp=R({type:e,selectors:[["gantt-table-body"]],viewQuery:function(i,a){if(i&1&&lt(ae,5),i&2){let s;k(s=S())&&(a.cdkDrags=s)}},hostVars:8,hostBindings:function(i,a){i&2&&L("gantt-table-draggable",a.draggable)("gantt-table-body",a.ganttTableClass)("gantt-table-empty",a.ganttTableEmptyClass)("gantt-table-dragging",a.ganttTableDragging)},inputs:{viewportItems:"viewportItems",flatItems:"flatItems",columns:"columns",groupTemplate:"groupTemplate",emptyTemplate:"emptyTemplate",rowBeforeTemplate:"rowBeforeTemplate",rowAfterTemplate:"rowAfterTemplate",draggable:"draggable",dropEnterPredicate:"dropEnterPredicate"},outputs:{dragDropped:"dragDropped",dragStarted:"dragStarted",dragEnded:"dragEnded",itemClick:"itemClick"},standalone:!0,features:[$],decls:3,vars:5,consts:[["default",""],["cdkDropList","",1,"gantt-table-body-container",3,"cdkDropListDropped","cdkDropListAutoScrollStep","cdkDropListData","cdkDropListSortingDisabled"],[4,"ngIf"],[3,"ngTemplateOutlet"],["iconName","empty",1,"empty-icon"],[1,"empty-text"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","gantt-table-group",3,"ngClass",4,"ngIf"],["cdkDrag","","class","gantt-table-item",3,"cdkDragData","cdkDragDisabled","gantt-table-item-with-group","gantt-table-item-first-level-group","height","lineHeight","gantt-table-item-active","click","cdkDragStarted","cdkDragEnded","cdkDragMoved",4,"ngIf"],[1,"gantt-table-group",3,"ngClass"],[1,"gantt-table-group-title",3,"click"],[1,"expand-icon",3,"iconName"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"group-title"],["cdkDrag","",1,"gantt-table-item",3,"click","cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragData","cdkDragDisabled"],[3,"classList","width",4,"ngFor","ngForOf"],[3,"classList"],["class","gantt-drag-handle","iconName","drag","cdkDragHandle","",3,"cdkDragHandleDisabled",4,"ngIf"],["class","gantt-expand-icon",3,"marginLeft",4,"ngIf"],[1,"gantt-table-column-content"],["iconName","drag","cdkDragHandle","",1,"gantt-drag-handle",3,"cdkDragHandleDisabled"],[1,"gantt-expand-icon"],["class","expand-icon",3,"iconName","click",4,"ngIf"],[3,"iconName",4,"ngIf"],[1,"expand-icon",3,"click","iconName"],[3,"iconName"]],template:function(i,a){i&1&&(p(0,"div",1),G("cdkDropListDropped",function(o){return a.onListDropped(o)}),f(1,Ha,3,2,"ng-container",2)(2,es,2,2,"ng-container",2),y()),i&2&&(h("cdkDropListAutoScrollStep",6)("cdkDropListData",a.viewportItems)("cdkDropListSortingDisabled",!0),d(),h("ngIf",!(a.viewportItems!=null&&a.viewportItems.length)),d(),h("ngIf",a.viewportItems&&a.viewportItems.length>0))},dependencies:[hi,X,go,nt,dt,ie,ae,di,nr],encapsulation:2});let n=e;return n})(),So=(()=>{let e=class e{constructor(t){this.ganttUpper=t,this.ganttItemClass=!0,this.ganttViewsMap=En(Es,"value")}selectView(t){this.ganttUpper.changeView(t)}};e.\u0275fac=function(i){return new(i||e)(v(A))},e.\u0275cmp=R({type:e,selectors:[["ngx-gantt-toolbar"],["gantt-toolbar"]],hostVars:2,hostBindings:function(i,a){i&2&&L("gantt-toolbar",a.ganttItemClass)},inputs:{template:"template"},standalone:!0,features:[$],decls:3,vars:2,consts:[[1,"toolbar-container"],[4,"ngIf"],[3,"ngTemplateOutlet"],["class","toolbar-views",4,"ngIf"],[1,"toolbar-views"],[4,"ngFor","ngForOf"],["class","toolbar-view",3,"active","click",4,"ngIf"],[1,"toolbar-view",3,"click"]],template:function(i,a){i&1&&(p(0,"div",0),f(1,as,2,1,"ng-container",1)(2,ss,0,0,"ng-template",2),y()),i&2&&(d(),h("ngIf",!a.template),d(),h("ngTemplateOutlet",a.template))},dependencies:[X,dt,nt],encapsulation:2});let n=e;return n})(),To=(()=>{let e=class e{constructor(){}setInlineStyles(t){let i=Array.from(t.getElementsByTagName("svg"));for(let a of i)this.recursElementChildren(a)}recursElementChildren(t){let i=["fill","color","font-size","stroke","font","text-anchor","stroke-dasharray","shape-rendering","stroke-width"];if(!t.style)return;let a=getComputedStyle(t);for(let s of i)t.style[s]=a[s];for(let s of Array.from(t.childNodes))this.recursElementChildren(s)}register(t){this.root=t.nativeElement,this.mainContainer=this.root.getElementsByClassName("gantt-main-container")[0]}print(t="download",i){return Pn(this,null,function*(){let a=this.root,s=this.mainContainer,o=a.offsetWidth,l=a.offsetHeight-s.offsetHeight+s.scrollHeight,g=(yield import("./chunk-IFKJR6N2.js")).default;g(a,{logging:!1,allowTaint:!0,useCORS:!0,width:o,height:l,ignoreElements:m=>{if(i&&m.classList.contains(i)||m.classList.contains("gantt-calendar-today-overlay"))return!0},onclone:m=>{let w=a.className,F=m.querySelector(`.${w.replace(/\s+/g,".")}`),Ce=m.querySelector(".gantt-container"),qt=m.querySelector(".gantt-calendar-grid-main"),W=m.querySelector(".gantt-links-overlay-main");F.style.width=`${o}px`,F.style.height=`${l}px`,F.style.overflow="unset",Ce.style.backgroundColor="#fff",qt.setAttribute("height",`${l}`),qt.setAttribute("style","background: transparent"),W&&(W.setAttribute("height",`${l}`),W.setAttribute("style",`height: ${l}px`)),this.setInlineStyles(F)}}).then(m=>{let w=document.createElement("a"),F=m.toDataURL("image/png");w.download=`${t}.png`,w.href=F,w.click()})})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let n=e;return n})(),Oo=(()=>{let e=class e{get view(){return this.ganttUpper.view}onWindowResize(){this.computeScrollBarOffset()}constructor(t,i,a,s,o,l){this.elementRef=t,this.ngZone=i,this.dom=a,this.dragContainer=s,this.ganttUpper=o,this.printService=l,this.verticalScrollbarWidth=0,this.horizontalScrollbarHeight=0,this.unsubscribe$=new Y,this.ganttUpper.dragContainer=s}ngOnInit(){let t=this.ngZone.isStable?Dt(Promise.resolve()):this.ngZone.onStable.pipe(tt(1));this.ngZone.runOutsideAngular(()=>{t.pipe(b(this.unsubscribe$)).subscribe(()=>{this.dom.initialize(this.elementRef),this.printService&&this.printService.register(this.elementRef),this.setupScrollClass(),this.setupResize(),this.setupViewScroll(),this.elementRef.nativeElement.style.opacity="1",this.ganttUpper.viewChange.pipe(Ct(null),b(this.unsubscribe$)).subscribe(()=>{this.scrollToToday()}),this.computeScrollBarOffset()})})}computeScrollBarOffset(){let t=this.dom.mainContainer,i=this.dom.verticalScrollContainer,a=0;i?a=i.offsetWidth-i.clientWidth:a=t?.offsetWidth-t?.clientWidth;let s=t?.offsetHeight-t?.clientHeight;this.verticalScrollbarWidth=a,this.horizontalScrollbarHeight=s}ngOnDestroy(){this.unsubscribe$.next()}setupViewScroll(){this.ganttUpper.disabledLoadOnScroll||this.dom.getViewerScroll(ht).pipe(b(this.unsubscribe$)).subscribe(t=>{if(t.direction===Pt.LEFT){let i=this.view.addStartDate();i&&(t.target.scrollLeft+=this.view.getDateRangeWidth(i.start,i.end),this.ganttUpper.loadOnScroll.observers&&this.ngZone.run(()=>this.ganttUpper.loadOnScroll.emit({start:i.start.getUnixTime(),end:i.end.getUnixTime()})))}if(t.direction===Pt.RIGHT){let i=this.view.addEndDate();i&&this.ganttUpper.loadOnScroll.observers&&this.ngZone.run(()=>this.ganttUpper.loadOnScroll.emit({start:i.start.getUnixTime(),end:i.end.getUnixTime()}))}})}setupResize(){this.dom.getResize().pipe(b(this.unsubscribe$)).subscribe(()=>{this.setupScrollClass()})}setupScrollClass(){let t=this.dom.mainContainer,i=t.offsetHeight;t.scrollHeight>i?this.elementRef.nativeElement.className="gantt gantt-scroll":this.elementRef.nativeElement.className="gantt"}scrollToToday(){let t=this.view.getTodayXPoint();this.dom.scrollMainContainer(t)}scrollToDate(t){let i;typeof t=="number"?i=this.view.getXPointByDate(new _(t)):i=this.view.getXPointByDate(t),this.dom.scrollMainContainer(i)}};e.\u0275fac=function(i){return new(i||e)(v(N),v(et),v(kn),v(Qt),v(A),v(To,8))},e.\u0275cmp=R({type:e,selectors:[["ngx-gantt-root"]],contentQueries:function(i,a,s){if(i&1&&(P(s,os,7),P(s,ls,7)),i&2){let o;k(o=S())&&(a.sideTemplate=o.first),k(o=S())&&(a.mainTemplate=o.first)}},viewQuery:function(i,a){if(i&1&&lt(Sn,7,N),i&2){let s;k(s=S())&&(a.backdrop=s.first)}},hostAttrs:[1,"gantt"],hostBindings:function(i,a){i&1&&G("resize",function(){return a.onWindowResize()},!1,jn)},inputs:{sideWidth:"sideWidth"},standalone:!0,features:[ee([kn,Qt]),$],ngContentSelectors:cs,decls:4,vars:3,consts:[["class","gantt-side",3,"width","padding-bottom",4,"ngIf"],["class","gantt-container",4,"ngIf"],[3,"template",4,"ngIf"],[1,"gantt-side"],["cdkScrollable","",1,"gantt-side-container"],[3,"ngTemplateOutlet"],[1,"gantt-container"],[1,"gantt-main"],[3,"template"]],template:function(i,a){i&1&&(qn(),f(0,hs,3,5,"div",0)(1,gs,6,7,"div",1),zn(2),f(3,ps,1,1,"gantt-toolbar",2)),i&2&&(h("ngIf",a.sideTemplate),d(),h("ngIf",a.mainTemplate),d(2),h("ngIf",a.ganttUpper.showToolbar||a.ganttUpper.toolbarTemplate))},dependencies:[X,ai,nt,er,tr,Sn,So],encapsulation:2});let n=e;return n})(),Io=(()=>{let e=class e{set width(t){this.columnWidth=Tt(t)}constructor(t,i){this.ganttUpper=t,this.elementRef=i}get classList(){return this.elementRef.nativeElement.classList}};e.\u0275fac=function(i){return new(i||e)(v(A),v(N))},e.\u0275cmp=R({type:e,selectors:[["ngx-gantt-column"]],contentQueries:function(i,a,s){if(i&1&&(P(s,ms,7),P(s,fs,7)),i&2){let o;k(o=S())&&(a.templateRef=o.first),k(o=S())&&(a.headerTemplateRef=o.first)}},hostAttrs:[1,"gantt-table-column"],inputs:{width:"width",name:"name",showExpandIcon:"showExpandIcon"},standalone:!0,features:[$],decls:0,vars:0,template:function(i,a){},encapsulation:2});let n=e;return n})(),Eo=(()=>{let e=class e{constructor(){this.draggable=!1,this.dragDropped=new D,this.dragStarted=new D,this.dragEnded=new D,this.columnChanges=new D}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=R({type:e,selectors:[["ngx-gantt-table"]],contentQueries:function(i,a,s){if(i&1&&(P(s,ys,7),P(s,vs,7),P(s,Xi,7),P(s,bs,7)),i&2){let o;k(o=S())&&(a.rowBeforeTemplate=o.first),k(o=S())&&(a.rowAfterTemplate=o.first),k(o=S())&&(a.tableEmptyTemplate=o.first),k(o=S())&&(a.tableFooterTemplate=o.first)}},inputs:{draggable:"draggable",dropEnterPredicate:"dropEnterPredicate"},outputs:{dragDropped:"dragDropped",dragStarted:"dragStarted",dragEnded:"dragEnded",columnChanges:"columnChanges"},standalone:!0,features:[$],decls:0,vars:0,template:function(i,a){},encapsulation:2});let n=e;return n})(),Mo=(()=>{let e=class e extends Qs{set loading(t){t?this.loadingDelay>0?this.loadingTimer=setTimeout(()=>{this._loading=t,this.cdr.markForCheck()},this.loadingDelay):this._loading=t:(clearTimeout(this.loadingTimer),this._loading=t)}get loading(){return this._loading}constructor(t,i,a,s,o){super(t,i,a,o),this.viewportRuler=s,this.maxLevel=2,this.virtualScrollEnabled=!0,this.loadingDelay=0,this.linkDragStarted=new D,this.linkDragEnded=new D,this.lineClick=new D,this.selectedChange=new D,this.virtualScrolledIndexChange=new D,this.flatItems=[],this.viewportItems=[],this._loading=!1,this.rangeStart=0,this.rangeEnd=0,this.computeAllRefs=!1}ngOnInit(){super.ngOnInit(),this.buildFlatItems();let t=this.ngZone.isStable?Dt(Promise.resolve()):this.ngZone.onStable.pipe(tt(1));this.ngZone.runOutsideAngular(()=>{t.pipe(b(this.unsubscribe$)).subscribe(()=>{this.dragContainer.linkDragStarted.pipe(b(this.unsubscribe$)).subscribe(i=>{this.linkDragStarted.emit(i)}),this.dragContainer.linkDragEnded.pipe(b(this.unsubscribe$)).subscribe(i=>{this.linkDragEnded.emit(i)})})}),this.view.start$.pipe(Xt(1),b(this.unsubscribe$)).subscribe(()=>{this.computeTempDataRefs()}),this.virtualScrollEnabled||(this.viewportItems=this.flatItems.slice(this.rangeStart,this.rangeEnd),this.computeTempDataRefs())}ngOnChanges(t){super.ngOnChanges(t),this.firstChange||(t.viewType&&t.viewType.currentValue&&(this.viewportItems=this.flatItems.slice(this.rangeStart,this.rangeEnd),this.computeTempDataRefs()),(t.originItems||t.originGroups)&&(this.buildFlatItems(),this.viewportItems=this.flatItems.slice(this.rangeStart,this.rangeEnd),this.computeTempDataRefs()))}ngAfterViewInit(){this.virtualScrollEnabled&&this.virtualScroll.renderedRangeStream.pipe(b(this.unsubscribe$)).subscribe(t=>{let i=this.elementRef.nativeElement.querySelector(".gantt-links-overlay");i.style.top=`${-(this.styles.lineHeight*t.start)}px`,this.rangeStart=t.start,this.rangeEnd=t.end,this.viewportItems=this.flatItems.slice(t.start,t.end),this.appendDraggingItemToViewportItems(),this.computeTempDataRefs()})}ngAfterViewChecked(){if(this.virtualScrollEnabled&&this.viewportRuler&&this.virtualScroll.getRenderedRange().end>0){let t=this.ngZone.isStable?Dt(Promise.resolve()):this.ngZone.onStable.pipe(tt(1));this.ngZone.runOutsideAngular(()=>{t.pipe(b(this.unsubscribe$)).subscribe(()=>{this.ganttRoot.verticalScrollbarWidth||(this.ganttRoot.computeScrollBarOffset(),this.cdr.markForCheck())})})}}buildFlatItems(){let t=[];this.groups.length&&this.groups.forEach(i=>{if(t.push(i),i.expanded){let a=ot(i.items);t.push(...a)}}),this.items.length&&t.push(...ot(this.items)),this.flatItems=[...t],this.flatItemsMap=En(this.flatItems,"id"),this.virtualScrollEnabled||(this.rangeStart=0,this.rangeEnd=this.flatItems.length)}afterExpand(){this.buildFlatItems(),this.viewportItems=this.flatItems.slice(this.rangeStart,this.rangeEnd)}computeTempDataRefs(){let t=[];this.viewportItems.forEach(i=>{if(!i.hasOwnProperty("items")){let a=i;a.links&&a.links.forEach(s=>{this.flatItemsMap[s.link]&&t.push(this.flatItemsMap[s.link])}),t.push(i)}}),this.computeItemsRefs(...ve(t,"id")),this.flatItems=[...this.flatItems],this.viewportItems=[...this.viewportItems]}appendDraggingItemToViewportItems(){if(this.draggingItem){let t=this.viewportItems.find(i=>i.id===this.draggingItem.id);t||(t=this.flatItems.find(i=>i.id===this.draggingItem.id),t&&this.viewportItems.push(t))}}expandChildren(t){t.expanded?(t.setExpand(!1),this.afterExpand(),this.expandChange.emit(t)):(t.setExpand(!0),this.async&&this.childrenResolve&&t.children.length===0?(t.loading=!0,this.childrenResolve(t.origin).pipe(tt(1),Hn(()=>{t.loading=!1,this.afterExpand(),this.expandChange.emit(t),this.cdr.detectChanges()})).subscribe(i=>{t.addChildren(i),this.computeItemsRefs(...t.children)})):(this.computeItemsRefs(...t.children),this.afterExpand(),this.expandChange.emit(t)))}selectItem(t){if(!this.selectable)return;let{event:i,selectedValue:a}=t;this.selectionModel.toggle(a.id);let s=this.selectionModel.selected;if(this.multiple){let o=this.getGanttItems(s).map(l=>l.origin);this.selectedChange.emit({event:i,current:a,selectedValue:o})}else{let o=this.getGanttItem(s[0])?.origin;this.selectedChange.emit({event:i,current:a,selectedValue:o})}}scrollToToday(){this.ganttRoot.scrollToToday()}scrollToDate(t){this.ganttRoot.scrollToDate(t)}scrolledIndexChange(t){this.virtualScrolledIndexChange.emit({index:t,renderedRange:{start:this.rangeStart,end:this.rangeEnd},count:this.flatItems.length})}expandGroups(t){this.groups.forEach(i=>{i.setExpand(t)}),this.afterExpand(),this.expandChange.next(null),this.cdr.detectChanges()}expandGroup(t){t.setExpand(!t.expanded),this.afterExpand(),this.expandChange.emit(),this.cdr.detectChanges()}itemDragStarted(t){this.table.dragStarted.emit(t),this.draggingItem=t.source}itemDragEnded(t){this.table.dragEnded.emit(t),this.draggingItem=null}};e.\u0275fac=function(i){return new(i||e)(v(N),v(St),v(et),v(si),v(xe))},e.\u0275cmp=R({type:e,selectors:[["ngx-gantt"]],contentQueries:function(i,a,s){if(i&1&&(P(s,Eo,5),P(s,Xi,7),P(s,ws,7),P(s,Io,5)),i&2){let o;k(o=S())&&(a.table=o.first),k(o=S())&&(a.tableEmptyTemplate=o.first),k(o=S())&&(a.footerTemplate=o.first),k(o=S())&&(a.columns=o)}},viewQuery:function(i,a){if(i&1&&(lt(_s,5),lt(re,5)),i&2){let s;k(s=S())&&(a.ganttRoot=s.first),k(s=S())&&(a.virtualScroll=s.first)}},inputs:{maxLevel:"maxLevel",async:"async",childrenResolve:"childrenResolve",linkable:"linkable",loading:"loading",virtualScrollEnabled:"virtualScrollEnabled",loadingDelay:"loadingDelay"},outputs:{linkDragStarted:"linkDragStarted",linkDragEnded:"linkDragEnded",lineClick:"lineClick",selectedChange:"selectedChange",virtualScrolledIndexChange:"virtualScrolledIndexChange"},standalone:!0,features:[ee([{provide:A,useExisting:e},{provide:Mn,useExisting:Vn(()=>e)}]),Kt,kt,$],decls:26,vars:56,consts:[["ganttRoot",""],["tableHeader",""],[1,"gantt-header"],[3,"columns"],[1,"gantt-container-header"],[4,"ngIf"],[1,"gantt-virtual-scroll-viewport",3,"scrolledIndexChange","ngClass","itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"gantt-side"],[1,"gantt-side-container"],[1,"gantt-table"],[3,"dragDropped","dragStarted","dragEnded","itemClick","flatItems","viewportItems","columns","groupTemplate","emptyTemplate","rowBeforeTemplate","rowAfterTemplate","draggable","dropEnterPredicate"],[1,"gantt-container"],[1,"gantt-main"],[3,"barClick","lineClick","flatItems","viewportItems","groupHeaderTemplate","itemTemplate","barTemplate","rangeTemplate","baselineTemplate"],[1,"gantt-scrollbar"],[1,"gantt-table-scrollbar"],[1,"gantt-main-scrollbar"],[1,"h-100"],[1,"gantt-footer"],["class","gantt-table-footer",3,"width",4,"ngIf"],["class","gantt-container-footer",4,"ngIf"],[1,"gantt-table-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"gantt-container-footer"],[3,"ngTemplateOutlet"]],template:function(i,a){if(i&1){let s=J();p(0,"ngx-gantt-root",null,0)(2,"div",2),x(3,"gantt-table-header",3,1),p(5,"div",4),x(6,"gantt-calendar-header"),y()(),f(7,Cs,1,0,"gantt-loader",5),p(8,"cdk-virtual-scroll-viewport",6),G("scrolledIndexChange",function(l){return T(s),O(a.scrolledIndexChange(l))}),f(9,ks,1,0,"ng-container",7),p(10,"div",8)(11,"div",9)(12,"div",10)(13,"gantt-table-body",11),G("dragDropped",function(l){return T(s),O(a.table.dragDropped.emit(l))})("dragStarted",function(l){return T(s),O(a.itemDragStarted(l))})("dragEnded",function(l){return T(s),O(a.itemDragEnded(l))})("itemClick",function(l){return T(s),O(a.selectItem(l))}),y()()()(),p(14,"div",12),x(15,"gantt-calendar-grid"),p(16,"div",13)(17,"gantt-main",14),G("barClick",function(l){return T(s),O(a.barClick.emit(l))})("lineClick",function(l){return T(s),O(a.lineClick.emit(l))}),y()()()(),x(18,"gantt-drag-backdrop"),p(19,"div",15),x(20,"div",16),p(21,"div",17),x(22,"div",18),y()(),p(23,"div",19),f(24,Ts,2,6,"div",20)(25,Is,2,1,"div",21),y()()}if(i&2){let s=mt(1),o=mt(4);d(3),h("columns",a.columns),d(3),E("padding-right",s.verticalScrollbarWidth,"px"),d(),h("ngIf",a.loading),d(),h("ngClass",Zn(52,xs,!a.virtualScrollEnabled,a.virtualScrollEnabled,(a.table==null?null:a.table.tableFooterTemplate)||a.footerTemplate))("itemSize",a.styles.lineHeight)("minBufferPx",a.styles.lineHeight*10)("maxBufferPx",a.styles.lineHeight*20),d(),h("cdkVirtualForOf",a.flatItems)("cdkVirtualForTrackBy",a.trackBy),d(),E("width",o.tableWidth+1,"px")("padding-bottom",s.horizontalScrollbarHeight,"px"),d(3),h("flatItems",a.flatItems)("viewportItems",a.viewportItems)("columns",a.columns)("groupTemplate",a.groupTemplate)("emptyTemplate",a.table.tableEmptyTemplate||a.tableEmptyTemplate)("rowBeforeTemplate",a.table==null?null:a.table.rowBeforeTemplate)("rowAfterTemplate",a.table==null?null:a.table.rowAfterTemplate)("draggable",a.table.draggable)("dropEnterPredicate",a.table.dropEnterPredicate),d(2),E("padding-right",s.verticalScrollbarWidth,"px")("padding-bottom",s.horizontalScrollbarHeight,"px"),d(2),h("flatItems",a.flatItems)("viewportItems",a.viewportItems)("groupHeaderTemplate",a.groupHeaderTemplate)("itemTemplate",a.itemTemplate)("barTemplate",a.barTemplate)("rangeTemplate",a.rangeTemplate)("baselineTemplate",a.baselineTemplate),d(),E("left",o.tableWidth+1,"px"),d(),E("height",s.horizontalScrollbarHeight+1,"px")("right",s.verticalScrollbarWidth,"px"),d(),E("width",o.tableWidth,"px"),L("with-scrollbar",s.horizontalScrollbarHeight),d(2),E("width",a.view.width,"px"),d(),E("right",s.verticalScrollbarWidth,"px")("bottom",s.horizontalScrollbarHeight,"px"),d(),h("ngIf",a.table==null?null:a.table.tableFooterTemplate),d(),h("ngIf",a.footerTemplate)}},dependencies:[Oo,Co,er,X,yo,re,ri,ie,oi,ko,tr,_o,Sn,nt],encapsulation:2,changeDetection:0});let n=e;return n})(),Qh=(()=>{let e=class e{constructor(t){Ui({locale:t?.dateOptions?.locale,weekStartsOn:t?.dateOptions?.weekStartsOn||1})}};e.\u0275fac=function(i){return new(i||e)(it(xe,8))},e.\u0275mod=Yn({type:e}),e.\u0275inj=Un({providers:[re,{provide:xe,useValue:_e}],imports:[ei,ui,li,Mo]});let n=e;return n})();export{Ft as a,me as b,It as c,Et as d,Ii as e,nn as f,ln as g,_ as h,I as i,xe as j,To as k,Io as l,Eo as m,Mo as n,Qh as o};
